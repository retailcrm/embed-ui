import{S as Ve,I as Mt,_ as Je}from"./checkmark-circle-DghoGCKu.js";import{c as C,a as P,j as k,v as G,n as ve,o as j,g as A,r as U,h as x,C as V,D as Se,q as Y,w as I,t as Te,N as jt,p as w,A as W,Y as _e,i as E,m as _,s as xe,u as R,O as Z,B as It,$ as $t,H as et,z as De,X as tt,a0 as Rt}from"./iframe-CzwIxcDt.js";import{_ as Ct}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a as nt}from"./UiPopperTarget-C6cCHpff.js";import{i as At,a as Nt,_ as Pt,b as Vt}from"./UiPopper-CtcSfCYW.js";import{u as _t}from"./composables-B2GYaaEv.js";import"./UiAvatar-D8pViE9E.js";import"./UiAvatarList-526c0aLn.js";import"./UiButton-Ba4gqCS2.js";import"./UiCheckbox-4ywJvfZe.js";import"./UiCopyButton-Dl7SKkaV.js";import"./UiDate-DmpcMiRt.js";import"./UiError-U6ozMXTE.js";import"./UiImage-1XONiwuo.js";import"./UiLink-Btpc1hAD.js";import"./UiYandexMap-CA2YuGPM.js";import"./UiModalSidebar-BwblNMmf.js";import"./UiModalWindow-79d6q6uo.js";import"./UiRadio-DuRcA5sX.js";import"./UiScrollBox-Z6nXCOaZ.js";import"./UiTag-BJ-7XKIT.js";import{S as Q,I as Dt,_ as Ft}from"./caret-down-HoSqc9tg.js";import{S as Bt,T as Lt}from"./UiToolbarButton-9Wvt6qe-.js";import"./UiToolbarLink-C1sUzUIn.js";import"./UiTooltip-C6tf22td.js";import"./UiTransition-Kg8ZojDG.js";import{I as lt}from"./plugin-yyqTwYeo.js";import{d as Gt}from"./index-BAxMPZdI.js";import{j as u}from"./index-Djyvt97q.js";import{useMDXComponents as at}from"./index-Cdf3Trmt.js";import{A as Kt}from"./blocks-CV-JPzkQ.js";import"./preload-helper-PPVm8Dsz.js";import"./predicate-ClulhfEu.js";import"./done-B11BKzEr.js";import"./utils-BqzVSXwn.js";import"./clear-CbqGf0q6.js";import"./uid-DZnMQ8Rh.js";import"./index-B44Kv34C.js";const rt={},zt={class:"ui-v1-menu-item-group"},Ht={class:"ui-v1-menu-item-group__head"},qt={key:0,class:"ui-v1-menu-item-group__head-option"},Xt={key:1,class:"ui-v1-menu-item-group__head-inner"},Yt={key:0,class:"ui-v1-menu-item-group__count"};function Wt(e,t){return j(),C("div",zt,[P("div",Ht,[e.$slots.option?(j(),C("div",qt,[k(e.$slots,"option")])):(j(),C("div",Xt,[P("div",{class:ve({"ui-v1-menu-item-group__title":!0,"ui-v1-menu-item-group__title_upper":!e.$slots.option})},[k(e.$slots,"label")],2),e.$slots.quantity?(j(),C("div",Yt,[k(e.$slots,"quantity")])):G("",!0)]))]),k(e.$slots,"default")])}const ot=Ct(rt,[["render",Wt]]);rt.__docgenInfo={displayName:"UiMenuItemGroup",description:"",tags:{},slots:[{name:"option",description:"Слот заголовка группы"},{name:"label",description:"Заголовок"},{name:"quantity",description:"Счетчик количества"},{name:"default",description:"Основной контент"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/menu/UiMenuItemGroup.vue"]};var it=(e=>(e.XS="xs",e.SM="sm",e.XL="xl",e))(it||{}),F=(e=>(e.TOP="top",e.TOP_START="top-start",e.TOP_END="top-end",e.BOTTOM="bottom",e.BOTTOM_START="bottom-start",e.BOTTOM_END="bottom-end",e.LEFT="left",e.LEFT_START="left-start",e))(F||{});const Zt=e=>e.replace(/([\\^$.*+?()[\]{}|=!<>:-])/g,"\\$1"),Qt=(e,t,n)=>e.replace(new RegExp(`(${Zt(t)})`,"gi"),`<span style="${n}">$1</span>`);let Jt=0;const st=(e="ui-v1-select")=>`${e}-${++Jt}`,Oe=A({__name:"UiSelectPopper",props:{id:{type:String,default:void 0},opened:{type:Boolean,default:!1},targetTriggers:{type:[Array,Object],default:()=>({show:["click"]})},popperTriggers:{type:[Array,Object],default:()=>[]},popperFitTrigger:{type:Boolean,default:!1},placement:{type:[String,Object],validator:e=>At(e)||Nt(e),default:F.BOTTOM},popperClass:{type:String,default:null},popperOptions:{type:Object,default:()=>({})},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},ticker:{type:Boolean,default:!1}},emits:["update:visible","show","hide","shown","hidden","dispose"],setup(e,{expose:t}){const n=e,l=_t(),a=U(null),r=U(null),o=U("auto"),s=x(()=>n.opened),d=async()=>{const g=r.value?.querySelector(".ui-v1-select-option_selected");r.value&&g&&(r.value.scrollTop=g.offsetTop)},f=()=>o.value=`${l.value?.clientWidth}px`,y=x(()=>{if(n.popperFitTrigger)return{minWidth:o.value};const g={width:o.value};return parseInt(o.value)>500&&(g.maxWidth=o.value),g});return t({adjust:()=>a.value?.adjust(),dispose:()=>a.value?.dispose(),show:()=>a.value?.show(),hide:()=>a.value?.hide()}),V(()=>n.opened,()=>f()),Se(()=>{}),(g,i)=>(j(),Y(Pt,Te({id:e.id+"-popper",ref_key:"popper",ref:a,visible:s.value,"target-triggers":e.targetTriggers,"popper-triggers":e.popperTriggers,"popper-options":e.popperOptions,"global-triggers":["miss-click"],placement:e.placement,"aria-hidden":s.value?"false":"true","aria-multiselectable":e.multiple?"true":"false",class:["ui-v1-select__popper",e.popperClass],disabled:e.disabled||e.readonly},g.$attrs,{role:"listbox",onAttached:d,onShow:i[0]||(i[0]=c=>g.$emit("show",c)),onShown:i[1]||(i[1]=c=>g.$emit("shown",c)),onHide:i[2]||(i[2]=c=>g.$emit("hide",c)),onHidden:i[3]||(i[3]=c=>g.$emit("hidden",c)),onDispose:i[4]||(i[4]=c=>g.$emit("dispose",c))}),{default:I(()=>[P("div",{ref_key:"scrollable",ref:r,style:jt(y.value),class:ve({"ui-v1-select__content":!0,"ui-v1-select__content_long":e.ticker})},[P("div",null,[k(g.$slots,"default")])],6)]),_:3},16,["id","visible","target-triggers","popper-triggers","popper-options","placement","aria-hidden","aria-multiselectable","class","disabled"]))}});Oe.__docgenInfo={exportName:"default",displayName:"UiSelectPopper",description:"",tags:{},expose:[{name:"adjust"},{name:"dispose"},{name:"show"},{name:"hide"}],props:[{name:"id",description:"Атрибут id корневого элемента выпадающего списка. Должен быть уникальным на странице",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"opened",description:"Начальное состояние выпадающего списка - открыт/закрыт",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"targetTriggers",description:"События целевого элемента, по которым производится переключение видимости",type:{name:"Trigger[] | TriggerSchema"},defaultValue:{func:!0,value:`() => ({
  show: ['click'],
})`}},{name:"popperTriggers",description:"События плавающего элемента, по которым производится переключение видимости",type:{name:"Trigger[] | TriggerSchema"},defaultValue:{func:!0,value:"() => []"}},{name:"popperFitTrigger",description:`Флаг, устанавливающий ширину выпадающего списка по ширине целевого элемента.
По-умолчанию отключает такое поведение`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placement",description:`Сторона цели, у которой появится плавающий элемент,
или подробный объект настройки положения и адаптации положения при нехватке места`,type:{name:"Side | `${Side}-${Alignment}` | PlacementOptions"},defaultValue:{func:!1,value:"PLACEMENT.BOTTOM"}},{name:"popperClass",description:"Стиль для плавающего элемента",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"popperOptions",description:"Набор свойств плавающего элемента. See @/common/components/popper",type:{name:"Omit<UiPopperProperties, 'placement' | 'shown' | 'target' | 'triggers'>"},defaultValue:{func:!0,value:"() => ({})"}},{name:"disabled",description:"Блокировка поля ввода",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"readonly",description:"Устанавливает поле ввода в состояние доступное только для чтения",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"multiple",description:"Наличие множественного выбора среди элементов выпадающего списка",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"ticker",description:"Добавляет анимацию показала полной строки при переполнении",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"show",description:"Появление плавающего элемента"},{name:"shown",description:"Появление плавающего элемента после окончания перехода"},{name:"hide",description:"Сокрытие плавающего элемента"},{name:"hidden",description:"Сокрытие плавающего элемента после окончания перехода"},{name:"dispose",description:"Удаление с формы плавающего элемента"},{name:"update:visible",description:"Смена значения флага видимости плавающего элемента"}],slots:[{name:"default",description:"Дефолтный слот, содержащий пункты выпадающего списка"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/select/UiSelectPopper.vue"]};const en=A({inheritAttrs:!1,__name:"UiToolbar",props:{size:{type:String,default:Bt.SM}},setup(e){const t=e;return w(Lt.size,x(()=>t.size)),(n,l)=>k(n.$slots,"default")}});en.__docgenInfo={exportName:"default",displayName:"UiToolbar",description:"",tags:{},props:[{name:"size",type:{name:"SIZE | `${SIZE}`"},defaultValue:{func:!1,value:"SIZE.SM"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/toolbar/UiToolbar.vue"]};const tn="Selected",nn={placeholder:"",noResult:"Nothing found"},ln={selected:tn,search:nn},an="Seleccionado",rn={placeholder:"",noResult:"No se ha encontrado"},on={selected:an,search:rn},sn="Выбрано",cn={placeholder:"",noResult:"Ничего не найдено"},un={selected:sn,search:cn},J=Gt({messages:{"en-GB":ln,"es-ES":on,"ru-RU":un}}),dn=["aria-controls","aria-expanded","aria-invalid"],Ue=A({__name:"UiSelectTrigger",props:{id:{type:String,default:void 0},value:{type:null,default:void 0},filter:{type:String,default:""},clearable:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholderOnly:{type:Boolean,default:!1},textboxSize:{type:String,validator:e=>Object.values(Q).includes(e),default:Q.SM},expanded:{type:Boolean,default:!1},selection:{type:Array,default:()=>[]}},emits:["input","focus","blur","clear","update:value","update:expanded"],setup(e,{emit:t}){const n=e,l=t,a=x(()=>J.init(E(lt,null)?.locale??J.fallback)),r=U(null),o=x(()=>n.readonly||!n.filterable),s=U(null),d=U(null),f=x(()=>n.selection.map(v=>v.label).join(", ")),y=x(()=>{if(n.placeholder&&n.placeholderOnly)return n.placeholder;if(n.multiple){const v=r.value?.clientWidth??0;if(v>0&&g.value>v)return`${a.value.t("selected")}: ${n.selection.length}`}return f.value}),g=U(0),i=()=>{d.value&&!n.placeholderOnly&&_e().then(()=>{g.value=d.value?.clientWidth??0})},c=x(()=>!o.value&&n.expanded?n.multiple&&!n.filter?y.value:n.filter:y.value),m=()=>{n.expanded||l("update:expanded",!0)},p=()=>{n.expanded&&l("update:expanded",!1)},h=()=>{if(!(n.disabled||n.readonly))return n.expanded?p():m()},b=v=>{const S=v.target;l("input",S?.value??"")},T=v=>l("focus",v),M=v=>l("blur",v),O=v=>{const S=n.multiple?[]:null;l("update:value",S),l("clear",v)};return V(()=>n.value,()=>{i(),n.multiple&&n.expanded&&_e(()=>r.value?.focus())}),Se(async()=>{r.value=s.value?.querySelector("input")??null,i()}),(v,S)=>(j(),C("div",{ref_key:"trigger",ref:s,"aria-controls":e.id+"-popper","aria-expanded":e.expanded?"true":"false","aria-invalid":e.invalid?"true":"false",role:"combobox","aria-haspopup":"listbox",class:ve({"ui-v1-select":!0,"ui-v1-select_active":e.expanded,"ui-v1-select_disabled":e.disabled,"ui-v1-select_filterable":e.filterable}),onClick:h},[e.multiple&&!v.$slots.trigger?(j(),C("div",{key:0,ref_key:"touchstone",ref:d,class:"ui-v1-select__touchstone"},W(f.value),513)):G("",!0),k(v.$slots,"trigger",{},()=>[_(R(Ft),{id:e.id,value:c.value,placeholder:!o.value&&e.expanded?a.value.t("search.placeholder"):e.placeholder,active:e.expanded,clearable:e.clearable,invalid:e.invalid,readonly:o.value,size:e.textboxSize,disabled:e.disabled,class:"ui-v1-select__trigger",onInput:b,onFocus:T,onBlur:M,onClear:O},xe({"trailing-icon":I(()=>[k(v.$slots,"trailing-icon",{},()=>[_(R(Dt),{"aria-hidden":"true",class:"ui-v1-select__caret"})])]),_:2},[v.$slots["leading-icon"]?{name:"leading-icon",fn:I(()=>[k(v.$slots,"leading-icon")]),key:"0"}:void 0]),1032,["id","value","placeholder","active","clearable","invalid","readonly","size","disabled"])])],10,dn))}});Ue.__docgenInfo={exportName:"default",displayName:"UiSelectTrigger",description:"",tags:{},props:[{name:"id",description:"Атрибут id корневого элемента выпадающего списка. Должен быть уникальным на странице",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"value",description:"Атрибут value, содержащий выбранный элемент из выпадающего списка",type:{name:"unknown|unknown[]"},defaultValue:{func:!1,value:"undefined"}},{name:"filter",description:"Текст фильтра для поиска",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"clearable",description:"Отображает иконку сброса введённого или выбранного значения в виде крестика",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"filterable",description:"Фильтрация строк выпадающего списка на соответствие введённого выражения в input",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalid",description:"Подсвечивает поле как содержащее некорректное значение",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"multiple",description:"Наличие множественного выбора среди элементов выпадающего списка",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholder",description:"Атрибут placeholder нативного поля ввода input",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"readonly",description:"Устанавливает поле ввода в состояние доступное только для чтения",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Блокировка поля ввода",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholderOnly",description:"Устанавливает в качестве выводимого в input значения только содержимое placeholder",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"textboxSize",description:"Размер поля ввода",type:{name:"SIZE | `${SIZE}`"},defaultValue:{func:!1,value:"SIZE.SM"}},{name:"expanded",description:"Состояние открытия выпадающего списка",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"selection",description:"Выбранные элементы из выпадающего списка. Должен содержать значение или массив значений, соответствующих атрибуту value опций из выпадающего списка",type:{name:"Option[]"},defaultValue:{func:!0,value:"() => []"}}],events:[{name:"input",description:"Ввод значения в поле ввода"},{name:"focus",description:"Установка фокуса на поле ввода"},{name:"blur",description:"Потеря фокуса полем ввода"},{name:"clear",description:"Сброс значения фильтра"},{name:"update:value",description:"Изменение значения"},{name:"update:expanded",description:"Открытие выпадающего списка"}],slots:[{name:"trigger",description:"Разметка переключателя выпадающего списка"},{name:"leading-icon",description:"Иконка слева от поля ввода"},{name:"trailing-icon",description:"Иконка справа от поля ввода (по-умолчанию каретка)"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/select/UiSelectTrigger.vue"]};const ne=Symbol.for("RemoteUi::Retain"),le=Symbol.for("RemoteUi::Release"),ee=Symbol.for("RemoteUi::RetainedBy");class ct{constructor(){this.memoryManaged=new Set}add(t){this.memoryManaged.add(t),t[ee].add(this),t[ne]()}release(){for(const t of this.memoryManaged)t[ee].delete(this),t[le]();this.memoryManaged.clear()}}function we(e){return!!(e&&e[ne]&&e[le])}function Ee(e,{deep:t=!0}={}){return pe(e,t,new Map)}function pe(e,t,n){const l=n.get(e);if(l!=null)return l;const a=we(e);if(a&&e[ne](),n.set(e,a),t){if(Array.isArray(e)){const r=e.reduce((o,s)=>pe(s,t,n)||o,a);return n.set(e,r),r}if(te(e)){const r=Object.keys(e).reduce((o,s)=>pe(e[s],t,n)||o,a);return n.set(e,r),r}}return n.set(e,a),a}function ut(e,{deep:t=!0}={}){return fe(e,t,new Map)}function fe(e,t,n){const l=n.get(e);if(l!=null)return l;const a=we(e);if(a&&e[le](),n.set(e,a),t){if(Array.isArray(e)){const r=e.reduce((o,s)=>fe(s,t,n)||o,a);return n.set(e,r),r}if(te(e)){const r=Object.keys(e).reduce((o,s)=>fe(e[s],t,n)||o,a);return n.set(e,r),r}}return a}function te(e){if(e==null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}const H="_@f";function pn(e){const t=new Map,n=new Map,l=new Map;return{encode:a,decode:r,async call(o,s){const d=new ct,f=n.get(o);if(f==null)throw new Error("You attempted to call a function that was already released.");try{const y=we(f)?[d,...f[ee]]:[d];return await f(...r(s,y))}finally{d.release()}},release(o){const s=n.get(o);s&&(n.delete(o),t.delete(s))},terminate(){t.clear(),n.clear(),l.clear()}};function a(o,s=new Map){if(o==null)return[o];const d=s.get(o);if(d)return d;if(typeof o=="object"){if(Array.isArray(o)){s.set(o,[void 0]);const y=[],i=[o.map(c=>{const[m,p=[]]=a(c,s);return y.push(...p),m}),y];return s.set(o,i),i}if(te(o)){s.set(o,[void 0]);const y=[],i=[Object.keys(o).reduce((c,m)=>{const[p,h=[]]=a(o[m],s);return y.push(...h),{...c,[m]:p}},{}),y];return s.set(o,i),i}}if(typeof o=="function"){if(t.has(o)){const i=t.get(o),c=[{[H]:i}];return s.set(o,c),c}const y=e.uuid();t.set(o,y),n.set(y,o);const g=[{[H]:y}];return s.set(o,g),g}const f=[o];return s.set(o,f),f}function r(o,s){if(typeof o=="object"){if(o==null)return o;if(Array.isArray(o))return o.map(d=>r(d,s));if(H in o){const d=o[H];if(l.has(d))return l.get(d);let f=0,y=!1;const g=()=>{f-=1,f===0&&(y=!0,l.delete(d),e.release(d))},i=()=>{f+=1},c=new Set(s),m=(...p)=>{if(y)throw new Error("You attempted to call a function that was already released.");if(!l.has(d))throw new Error("You attempted to call a function that was already revoked.");return e.call(d,p)};Object.defineProperties(m,{[le]:{value:g,writable:!1},[ne]:{value:i,writable:!1},[ee]:{value:c,writable:!1}});for(const p of c)p.add(m);return l.set(d,m),m}if(te(o))return Object.keys(o).reduce((d,f)=>({...d,[f]:r(o[f],s)}),{})}return o}}const Fe=0,se=1,Be=2,Le=3,Ge=5,ce=6;class Ke extends Error{constructor(t){const{callId:n,error:l,result:a}=t,r=l?` Error: ${String(l)}`:"",o=a==null?"":` Result: ${JSON.stringify(a)}`;super(`No resolver found for call ID: ${n}${r}${o}`),this.callId=void 0,this.error=void 0,this.result=void 0,this.groupingHash="RemoteUI::MissingResolverError",this.name="MissingResolverError",this.callId=n,this.error=l,this.result=a}}function fn(e,{uuid:t=mn,createEncoder:n=pn,callable:l}={}){let a=!1,r=e;const o=new Map,s=new Map,d=hn(i,l),f=n({uuid:t,release(p){y(Le,[p])},call(p,h,b){const T=t(),M=c(T,b),[O,v]=f.encode(h);return y(Ge,[T,p,O],v),M}});return r.addEventListener("message",g),{call:d,replace(p){const h=r;r=p,h.removeEventListener("message",g),p.addEventListener("message",g)},expose(p){for(const h of Object.keys(p)){const b=p[h];typeof b=="function"?o.set(h,b):o.delete(h)}},callable(...p){if(l!=null)for(const h of p)Object.defineProperty(d,h,{value:i(h),writable:!1,configurable:!0,enumerable:!0})},terminate(){y(Be,void 0),m(),r.terminate&&r.terminate()}};function y(p,h,b){a||r.postMessage(h?[p,h]:[p],b)}async function g(p){if(a)return;const{data:h}=p;if(gn(h))switch(h[0]){case Be:{m();break}case Fe:{const b=new ct,[T,M,O]=h[1],v=o.get(M);try{if(v==null)throw new Error(`No '${M}' method is exposed on this endpoint`);const[S,$]=f.encode(await v(...f.decode(O,[b])));y(se,[T,void 0,S],$)}catch(S){const{name:$,message:oe,stack:ie}=S;throw y(se,[T,{name:$,message:oe,stack:ie}]),S}finally{b.release()}break}case se:{const[b,T,M]=h[1],O=s.get(b);if(O==null)throw new Ke({callId:b,error:T,result:M});O(...h[1]),s.delete(b);break}case Le:{const[b]=h[1];f.release(b);break}case ce:{const[b,T,M]=h[1],O=s.get(b);if(O==null)throw new Ke({callId:b,error:T,result:M});O(...h[1]),s.delete(b);break}case Ge:{const[b,T,M]=h[1];try{const O=await f.call(T,M),[v,S]=f.encode(O);y(ce,[b,void 0,v],S)}catch(O){const{name:v,message:S,stack:$}=O;throw y(ce,[b,{name:v,message:S,stack:$}]),O}break}}}function i(p){return(...h)=>{if(a)return Promise.reject(new Error("You attempted to call a function on a terminated web worker."));if(typeof p!="string"&&typeof p!="number")return Promise.reject(new Error(`Can’t call a symbol method on a remote endpoint: ${p.toString()}`));const b=t(),T=c(b),[M,O]=f.encode(h);return y(Fe,[b,p,M],O),T}}function c(p,h){return new Promise((b,T)=>{s.set(p,(M,O,v)=>{if(O==null)b(v&&f.decode(v,h));else{const S=new Error;Object.assign(S,O),T(S)}})})}function m(){var p;a=!0,o.clear(),s.clear(),(p=f.terminate)===null||p===void 0||p.call(f),r.removeEventListener("message",g)}}function mn(){return`${q()}-${q()}-${q()}-${q()}`}function q(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)}function hn(e,t){let n;if(t==null){if(typeof Proxy!="function")throw new Error("You must pass an array of callable methods in environments without Proxies.");const l=new Map;n=new Proxy({},{get(a,r){if(l.has(r))return l.get(r);const o=e(r);return l.set(r,o),o}})}else{n={};for(const l of t)Object.defineProperty(n,l,{value:e(l),writable:!1,configurable:!0,enumerable:!0})}return n}function gn(e){return Array.isArray(e)&&typeof e[0]=="number"&&(e[1]==null||Array.isArray(e[1]))}const yn="mount",bn="insert-child",vn="remove-child",Sn="update-text",Tn="update-properties",xn="invoke";function On({mount:e,insertChild:t,removeChild:n,updateProperties:l,updateText:a,invoke:r}){const o=new Map([[yn,e],[bn,t],[vn,n],[Tn,l],[Sn,a],[xn,r]]);return(s,...d)=>o.get(s)(...d)}const ke="comment",K="component",Un="fragment",dt="root",Me="text",ze="~",wn=e=>e!=null&&e.kind===K,je=e=>e!=null&&e.kind===Un,N=(e,t,n)=>Object.defineProperty(e,t,{value:n,configurable:!0,writable:!1,enumerable:!1}),me=e=>typeof e=="function",B=e=>Object.keys(e),pt="RemoteSlot",En=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],kn=["math","maction","maligngroup","malignmark","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mlongdiv","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mscarries","mscarry","msgroup","msline","mstack","mspace","msqrt","msrow","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","none","semantics","annotation","annotation-xml"],Mn=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],jn=e=>En.includes(e),In=e=>kn.includes(e),$n=e=>Mn.includes(e),Rn=e=>jn(e)||In(e)||$n(e),Cn=(e,t)=>{const n=e.filter(l=>l in t);return n.length===0?t:{default:()=>{var l;return[..."default"in t?[(l=t.default)==null?void 0:l.call(t)]:[],...n.map(a=>Z(pt,{name:a},{default:t[a]}))]}}},An=e=>e.charAt(0).toUpperCase()+e.slice(1),Nn=(e,t)=>e===void 0?{}:(Array.isArray(e)?e:Object.keys(e)).reduce((l,a)=>(l["on"+An(a)]=(...r)=>t(a,...r),l),{}),z=(e,t=void 0,n=[])=>A({name:e,inheritAttrs:!1,...t?{emits:t}:{},setup(l,{attrs:a,emit:r,slots:o}){return()=>Z(e,{...l,...a,...Nn(t,r)},Cn(n,o))}}),Pn="UiPopperConnector",Vn=z(Pn),_n="UiSelectTrigger",Dn=z(_n,["input","focus","blur","clear","update:value","update:expanded"]),Fn="UiSelectPopper",Bn=z(Fn,["update:visible","show","hide","shown","hidden","dispose"]),ft=Symbol("UiSelectedIsSelected"),mt=Symbol("UiSelectRegister"),ht=Symbol("UiSelectSync"),gt=Symbol("UiSelectUnregister"),yt=Symbol("UiSelectToggle"),bt=Symbol("UiSelectFilter"),Ie=Symbol("UiSelectFiltered"),vt=Symbol("UiSelectTicker"),St=Symbol("UiSelectMultiple"),$e=Symbol("UiSelectFastened"),Re=Symbol("UiSelectUnregisterOption"),Ce=Symbol("UiSelectRegisterOption"),He=Symbol("UiSelectOptionGroupRegister"),qe=Symbol("UiSelectOptionGroupUnregister"),Tt=Symbol("UiSelectOptionGroupRegisterHeaderOption"),xt=Symbol("UiSelectOptionGroupUnregisterHeaderOption"),Ln={key:0,class:"ui-v1-select__no-results-text"},Ot=A({__name:"UiSelect",props:{id:{type:String,default:void 0},value:{type:null,default:void 0},placeholder:{type:String,default:"test"},clearable:{type:Boolean,default:!1},filterable:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},equalsFn:{type:Function,default:(e,t)=>e===t},placement:{type:String,validator:e=>Object.values(F).includes(e),default:F.BOTTOM},targetTriggers:{type:[Array,Object],default:()=>({show:["click"]})},popperTriggers:{type:[Array,Object],default:()=>[]},popperFitTrigger:{type:Boolean,default:!1},popperClass:{type:String,default:null},popperOptions:{type:Object,default:()=>({})},textboxSize:{type:String,validator:e=>Object.values(Q).includes(e),default:Q.SM},multiple:{type:Boolean,default:!1},expanded:{type:Boolean,default:!1},placeholderOnly:{type:Boolean,default:!1},ticker:{type:Boolean,default:!1}},setup(e){const t=e,n=It({expanded:t.expanded,filter:"",value:t.value}),l=x(()=>J.init(E(lt,null)?.locale??J.fallback)),a=x(()=>l.value.t("search.noResult",{filter:n.filter})),r=U([]),o=x(()=>{const i=s(n.value),c=[];return i.forEach(m=>{const p=r.value.find(h=>d(h.value,m));p&&c.push(p)}),c}),s=i=>Array.isArray(i)?[...i]:typeof i=="number"||typeof i=="boolean"||i?[i]:[],d=(i,c)=>t.equalsFn(i,c),f=(i,c)=>i.some(m=>d(m,c));w(mt,i=>{if(r.value.some(c=>c.id===i.id))throw new Error(`[UiSelect] Component with id ${i.id} already registered. Unregister it before using again.`);r.value.push(i)}),w(ht,(i,c)=>{const m=r.value.find(p=>p.id===i);m&&(m.label=c.label,m.value=c.value)}),w(gt,i=>{const c=r.value.findIndex(m=>m.id===i);c!==-1&&r.value.splice(c,1)}),w(ft,x(()=>i=>Array.isArray(n.value)?f(n.value,i):d(n.value,i))),w(yt,i=>{if(t.multiple){const c=s(n.value),m=c.findIndex(p=>d(p,i));m!==-1?c.splice(m,1):c.push(i),n.value=c,t.multiple||g()}else n.value=i,g()}),w(bt,x(()=>n.filter)),w(Ie,x(()=>t.filterable&&n.filter.length>0)),w(vt,x(()=>t.ticker)),w(St,x(()=>t.multiple));const y=i=>{n.filter=i},g=()=>{n.expanded&&(n.expanded=!1,n.filter="")};return V(()=>t.expanded,i=>{n.expanded=i,i||(n.filter="")}),V(()=>t.value,i=>{n.value=i}),(i,c)=>(j(),Y(R(Vn),null,{default:I(()=>[_(R(Dn),{id:e.id,value:n.value,multiple:e.multiple,selection:o.value,filter:n.filter,filterable:e.filterable,clearable:e.clearable,expanded:n.expanded,invalid:e.invalid,disabled:e.disabled,readonly:e.readonly,"placeholder-only":e.placeholderOnly,placeholder:e.placeholder,"textbox-size":e.textboxSize,onInput:y,"onUpdate:value":c[0]||(c[0]=m=>n.value=m),"onUpdate:expanded":c[1]||(c[1]=m=>n.expanded=m)},null,8,["id","value","multiple","selection","filter","filterable","clearable","expanded","invalid","disabled","readonly","placeholder-only","placeholder","textbox-size"]),_(R(Bn),{id:e.id,disabled:e.disabled||e.readonly,multiple:e.multiple,opened:n.expanded,placement:e.placement,"popper-class":e.popperClass,"popper-fit-trigger":e.popperFitTrigger,"popper-options":e.popperOptions,"popper-triggers":e.popperTriggers,readonly:e.readonly,"target-triggers":e.targetTriggers,ticker:e.ticker,filterable:e.filterable,"options-registry":r.value,onHide:g},{default:I(()=>[e.filterable&&r.value.every(m=>!m.isMatched())&&a.value?(j(),C("div",Ln,W(a.value),1)):G("",!0),k(i.$slots,"default")]),_:3},8,["id","disabled","multiple","opened","placement","popper-class","popper-fit-trigger","popper-options","popper-triggers","readonly","target-triggers","ticker","filterable","options-registry"])]),_:3}))}});Ot.__docgenInfo={exportName:"default",displayName:"UiSelect",description:"",tags:{},props:[{name:"id",description:"Атрибут id корневого элемента выпадающего списка. Должен быть уникальным на странице",type:{name:"string"},defaultValue:{func:!1,value:"undefined"}},{name:"value",description:"Атрибут value, содержащий выбранный элемент из выпадающего списка",type:{name:"unknown|unknown[]"},defaultValue:{func:!1,value:"undefined"}},{name:"placeholder",description:"Атрибут placeholder нативного поля ввода input",type:{name:"string"},defaultValue:{func:!1,value:"'test'"}},{name:"clearable",description:"Отображает иконку сброса введённого или выбранного значения в виде крестика",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"filterable",description:"Фильтрация строк выпадающего списка на соответствие введённого выражения в input",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalid",description:"Подсвечивает поле как содержащее некорректное значение",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"readonly",description:"Устанавливает поле ввода в состояние доступное только для чтения",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Блокировка поля ввода",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"equalsFn",description:"Функция для проверки равенства элементов",type:{name:"(a: unknown, b: unknown) => boolean"},defaultValue:{func:!0,value:"(a: unknown, b: unknown): boolean => a === b"}},{name:"placement",description:`Сторона цели, у которой появится плавающий элемент,
или подробный объект настройки положения и адаптации положения при нехватке места`,type:{name:"PLACEMENT | `${PLACEMENT}`"},defaultValue:{func:!1,value:"PLACEMENT.BOTTOM"}},{name:"targetTriggers",description:"События целевого элемента, по которым производится переключение видимости",type:{name:"Trigger[] | TriggerSchema"},defaultValue:{func:!0,value:`() => ({
  show: ['click'],
})`}},{name:"popperTriggers",description:"События плавающего элемента, по которым производится переключение видимости",type:{name:"Trigger[] | TriggerSchema"},defaultValue:{func:!0,value:"() => []"}},{name:"popperFitTrigger",description:`Флаг, устанавливающий ширину выпадающего списка по ширине целевого элемента.
По-умолчанию отключает такое поведение`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"popperClass",description:"Стиль для плавающего элемента",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"popperOptions",description:"Набор свойств плавающего элемента. See @/common/components/popper",type:{name:"UiSelectPopperProperties['popperOptions']"},defaultValue:{func:!0,value:"() => ({})"}},{name:"textboxSize",description:"Размер поля ввода",type:{name:"SIZE | `${SIZE}`"},defaultValue:{func:!1,value:"SIZE.SM"}},{name:"multiple",description:"Наличие множественного выбора среди элементов выпадающего списка",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"expanded",description:"Состояние открытия выпадающего списка",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"placeholderOnly",description:"Устанавливает в качестве выводимого в input значения только содержимое placeholder",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"ticker",description:"Добавляет анимацию показала полной строки при переполнении",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/remote/components/select/UiSelect.vue"]};const Gn={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Kn(e,t){return j(),C("svg",Gn,[...t[0]||(t[0]=[P("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10A10 10 0 0 0 12 2m0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16m1-9h2.5a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H13v2.5a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5V13H8.5a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5H11V8.5a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5z","clip-rule":"evenodd"},null,-1)])])}const zn={render:Kn},Hn="UiMenuItem",qn=z(Hn,[],["default","avatar","leading-icon","description","trailing-icon"]),Xn="UiMenuItemGroup",Yn=z(Xn,[],["default","option","label","quantity"]),Wn=["aria-selected"],Zn=["innerHTML"],Qn=["innerHTML"],Jn=A({__name:"UiSelectOption",props:{value:{type:null,required:!0},label:{type:String,required:!0},description:{type:String,default:""},active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String,validator:e=>Object.values(Ve).includes(e),default:Ve.MD},counter:{type:null,validator:e=>e===null||["string","number"].includes(typeof e),default:null},accent:{type:Boolean,default:!1}},setup(e){const t=e,n=st("u1-v1-select-option"),l=E(ft,U(()=>!1)),a=E(ht,()=>{}),r=E(Ce,()=>{}),o=E(mt,()=>{}),s=E(Re,()=>{}),d=E(gt,()=>{}),f=E(yt,()=>{}),y=E($e,!1),g=E(bt,U("")),i=E(Ie,U(!1)),c=E(vt,U(!1)),m=E(St,U(!1)),p=(S,$="font-weight: 500;")=>Qt(S,g.value,$),h=x(()=>({label:i.value?p(t.label):t.label,description:i.value?p(t.description,"font-weight: 600;"):t.description})),b=x(()=>h.value.label!==t.label||h.value.description!==t.description),T=x(()=>t.active||l.value(t.value)),M=x(()=>!(y||!i.value||b.value)),O=()=>{t.disabled||f(t.value)},v=V([()=>t.label,()=>t.value],([S,$],[oe,ie])=>{(S!==oe||!Vt($,ie))&&a(n,{label:S,value:$})});return $t(()=>{const S={id:n,value:t.value,label:t.label,isMatched:()=>!i.value||b.value};o(S),r(S)}),et(()=>{v(),d(n),s(n)}),(S,$)=>(j(),C("div",Te(S.$attrs,{"aria-selected":T.value?"true":"false",class:{"ui-v1-select-option":!0,"ui-v1-select-option_selected":T.value,"ui-v1-select-option_disabled":e.disabled,"ui-v1-select-option_hidden":M.value},role:"option",onClick:O}),[k(S.$slots,"default",{highlight:p,selected:T.value},()=>[_(R(qn),{accent:e.accent,counter:e.counter,disabled:e.disabled,size:e.size,ticker:R(c)},xe({"trailing-icon":I(()=>[k(S.$slots,"trailing-icon",{selected:T.value},()=>[T.value?(j(),Y(R(Mt),{key:0,class:"ui-v1-select-option__checkmark-icon","aria-hidden":"true"})):R(m)?(j(),Y(R(zn),{key:1,class:"ui-v1-select-option__add-icon","aria-hidden":"true"})):G("",!0)])]),default:I(()=>[k(S.$slots,"value",{selected:T.value},()=>[P("span",{innerHTML:h.value.label},null,8,Zn)])]),_:2},[S.$slots["leading-icon"]?{name:"leading-icon",fn:I(()=>[k(S.$slots,"leading-icon",{selected:T.value})]),key:"0"}:void 0,h.value.description?{name:"description",fn:I(()=>[P("span",{innerHTML:h.value.description},null,8,Qn)]),key:"1"}:void 0]),1032,["accent","counter","disabled","size","ticker"])])],16,Wn))}});Jn.__docgenInfo={exportName:"default",displayName:"UiSelectOption",description:"",tags:{},props:[{name:"value",description:"Значение опции",type:{name:"unknown"},required:!0},{name:"label",description:"Заголовок",type:{name:"string"},required:!0},{name:"description",description:"Описание",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"active",description:"Опция выбрана/не выбрана в списке",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Заблокированный",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",description:"Размер шрифта, иконок и внутренних отступов компонента",type:{name:"SIZE"},defaultValue:{func:!1,value:"SIZE.MD"}},{name:"counter",description:"Счетчик количества",type:{name:"string|number|null"},defaultValue:{func:!1,value:"null"}},{name:"accent",description:"Жирное начертание текста",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],slots:[{name:"default",scoped:!0,description:"Слот для переопределения всего контента опции",bindings:[{name:"highlight",title:"binding"},{name:"selected",title:"binding"}]},{name:"leading-icon",scoped:!0,description:"Иконка слева от заголовка и описания",bindings:[{name:"selected",title:"binding"}]},{name:"value",scoped:!0,description:"Текстовая метка опции",bindings:[{name:"selected",title:"binding"}]},{name:"trailing-icon",scoped:!0,description:"Иконка справа от заголовка и описания",bindings:[{name:"selected",title:"binding"}]}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/remote/components/select/UiSelectOption.vue"]};const Ut=A({__name:"UiSelectOptionGroupHeader",setup(e){return w(Ce,E(Tt,()=>{})),w(Re,E(xt,()=>{})),w($e,x(()=>!0)),(t,n)=>(j(),C("div",null,[k(t.$slots,"default")]))}});Ut.__docgenInfo={exportName:"default",displayName:"UiSelectOptionGroupHeader",description:"",tags:{},slots:[{name:"default"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/remote/components/select/UiSelectOptionGroupHeader.vue"]};const el=A({__name:"UiSelectOptionGroup",props:{label:{type:String,default:""}},setup(e){const t=st("u1-v1-select-option-group"),n=U([]),l=U([]),a=U([]),r=(i,c)=>`[${i}] Component with id ${c} already registered. Unregister it before using again.`;w(Ce,i=>{if(n.value.some(c=>c.id===i.id))throw new Error(r("UiSelect",i.id));n.value.push(i)}),w(Re,i=>{const c=n.value.findIndex(m=>m.id===i);c!==-1&&n.value.splice(c,1)}),w(He,i=>{if(l.value.some(c=>c.id===i.id))throw new Error(r("UiSelectOptionGroup",i.id));l.value.push(i)}),w(qe,i=>{const c=l.value.findIndex(m=>m.id===i);c!==-1&&l.value.splice(c,1)}),w(Tt,i=>{if(a.value.some(c=>c.id===i.id))throw new Error(r("UiSelectOptionGroupHeader",i.id));a.value.push(i)}),w(xt,i=>{const c=a.value.findIndex(m=>m.id===i);c!==-1&&a.value.splice(c,1)}),w($e,x(()=>!1));const o=E(He,()=>{}),s=E(qe,()=>{}),d=E(Ie,U(!1)),f=x(()=>n.value.filter(i=>i.isMatched()).length+l.value.reduce((i,c)=>i+c.matchedQuantity(),0)),y=x(()=>!!f.value||a.value.some(i=>i.isMatched())||l.value.some(i=>i.isMatched())),g=x(()=>!d.value||y.value);return Se(()=>o({id:t,matchedQuantity:()=>f.value,isMatched:()=>y.value})),et(()=>s(t)),(i,c)=>(j(),C("div",Te(i.$attrs,{class:{"ui-v1-select-option-group":!0,"ui-v1-select-option-group_hidden":g.value}}),[_(R(Yn),null,xe({label:I(()=>[k(i.$slots,"label",{},()=>[De(W(e.label),1)])]),quantity:I(()=>[k(i.$slots,"quantity",{quantity:f.value},()=>[De(W(f.value),1)])]),default:I(()=>[k(i.$slots,"default")]),_:2},[i.$slots.option?{name:"option",fn:I(()=>[_(Ut,null,{default:I(()=>[k(i.$slots,"option")]),_:3})]),key:"0"}:void 0]),1024)],16))}});el.__docgenInfo={exportName:"default",displayName:"UiSelectOptionGroup",description:"",tags:{},props:[{name:"label",description:"Заголовок группы опций",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],slots:[{name:"option",description:"Разметка блока группировки опций"},{name:"label",description:"Заголовок"},{name:"quantity",scoped:!0,description:"Счетчик количества элементов внутри группы",bindings:[{name:"quantity",title:"binding"}]},{name:"default",description:"Иное содержимое компонента"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/remote/components/select/UiSelectOptionGroup.vue"]};const Ae=e=>(e.version=0,e);function L(e,t){if("children"in e&&e.children.forEach(n=>L(n,t)),wn(e)){const{properties:n}=e;for(const l of B(n)){const a=n[l];je(a)&&(n[l]=L(a,t))}}return t(e)}const Ne=e=>je(e)&&"version"in e,tl=()=>{const e={id:ze,kind:dt,children:[],version:0},t=new Map([[ze,e]]),n={get root(){return e},state:"unmounted",get(l){return t.get(l)??null}};return N(n,"attach",l=>he(t,l)),N(n,"detach",l=>ge(t,l)),n};function he(e,t){if(e.set(t.id,t),t.kind===K){const{properties:n}=t;B(n).forEach(l=>{const a=n[l];Ne(a)&&he(e,a)})}"children"in t&&t.children.forEach(n=>he(e,n))}function ge(e,t){if(e.delete(t.id),t.kind===K){const{properties:n}=t;B(n).forEach(l=>{const a=n[l];Ne(a)&&ge(e,a)})}"children"in t&&t.children.forEach(n=>ge(e,n))}const nl=()=>{const e=new Map;return{emit:l=>{const a=e.get(l);if(a)for(const r of a)r()},on:(l,a)=>{let r=e.get(l);return r==null&&(r=new Set,e.set(l,r)),r.add(a),()=>{const o=e.get(l);o&&(o.delete(a),o.size===0&&e.delete(l))}}}},ll=()=>{const e=new Map;return{invoke:(l,a,r,o,s)=>{const d=e.get(l);if(d)try{o(d(a,r))}catch(f){s(f instanceof Error?f.message:f)}else s(`No handler for node [ID=${l}]`)},register:(l,a)=>(e.set(l,a),()=>{e.has(l)&&e.delete(l)})}},al=()=>{const e=new Map,t=new Set;let n=null;return{enqueueUpdate:o=>(n=n??new Promise(s=>{setTimeout(()=>{const d=[...t];n=null,t.clear();for(const f of d)ol(e,f);s()},0)}),t.add(o),n),register:({id:o},s)=>(rl(e,o,s),()=>il(e,o,s)),flush:()=>n??Promise.resolve()}};function rl(e,t,n){let l=e.get(t);l==null&&(l=new Set,e.set(t,l)),l.add(n)}function ol(e,t){const n=e.get(t.id);if(n)for(const l of n)l(t)}function il(e,t,n){const l=e.get(t);l&&(l.delete(n),l.size===0&&e.delete(t))}const sl=(e,t,n)=>{n===e.length?e.push(t):e.splice(n,0,t)},cl=(e,t)=>{const n=e.findIndex(t);return n>0?e.splice(n,1)[0]:void 0},ae=(e,t)=>(e.version+=1,t.enqueueUpdate(e)),ye=(e,t)=>{ae(e,t)},ul=(e,t,n)=>N(e,"mount",l=>{e.root.children=l.map(a=>{const r=L(a,Ae);return Ee(r),e.attach(r),r}),ae(e.root,t).then(()=>{e.state="mounted",n.emit("mount")})}),dl=(e,t)=>N(e,"insertChild",(n,l,a,r)=>{const o=e.get(n),s=n===r?o:r!==!1?e.get(r):null;let d;s?(d=cl(s.children,f=>f.id===a.id),n!==r&&ye(s,t)):(d=L(a,Ae),Ee(d),e.attach(d)),sl(o.children,d,l),ye(o,t)}),pl=(e,t)=>N(e,"removeChild",(n,l)=>{const a=e.get(n),[r]=a.children.splice(l,1);e.detach(r),ae(a,t).then(()=>ut(r))}),fl=(e,t)=>N(e,"updateProperties",(n,l)=>{const a=e.get(n),r={...a.properties};Ee(l),B(l).forEach(o=>{const s=l[o],d=r[o];Ne(d)&&e.detach(d),je(s)&&e.attach(L(s,Ae))}),Object.assign(a.properties,l),ae(a,t).then(()=>{B(l).forEach(o=>ut(r[o]))})}),ml=(e,t)=>N(e,"updateText",(n,l)=>{const a=e.get(n);a.text=l,ye(a,t)}),hl=(e,t)=>{N(e,"invoke",(n,l,a,r,o)=>{t.invoke(n,l,a,r,o)})};function gl(){const e=tl(),t=nl(),n=ll(),l=al();return ul(e,l,t),dl(e,l),fl(e,l),ml(e,l),pl(e,l),hl(e,n),{get state(){return e.state},receive:On(e),tree:{get root(){return e.root},get({id:a}){return e.get(a)},invokable({id:a},r){return n.register(a,r)},updatable({id:a},r){return l.register({id:a},r)}},on:(a,r)=>t.on(a,r),flush:()=>l.flush()}}const yl=e=>e.kind===ke,wt=e=>"type"in e&&e.type===pt,Pe=e=>e.kind===Me,Xe=e=>{switch(!0){case e instanceof HTMLInputElement:case e instanceof HTMLSelectElement:case e instanceof HTMLTextAreaElement:return{value:e.value,...e instanceof HTMLInputElement&&{checked:e.checked},...e instanceof HTMLSelectElement&&{selectedIndex:e.selectedIndex,selectedOptions:[...e.selectedOptions].map(t=>({value:t.value,text:t.text,selected:t.selected}))}};case e instanceof HTMLElement:return{}}return{}},D=e=>({type:e.type,target:e.target?Xe(e.target):null,currentTarget:e.currentTarget?Xe(e.currentTarget):null,bubbles:e.bubbles,cancelable:e.cancelable,composed:e.composed,defaultPrevented:e.defaultPrevented,eventPhase:e.eventPhase,isTrusted:e.isTrusted}),bl=e=>[...e].map(t=>({lastModified:t.lastModified,name:t.name,webkitRelativePath:t.webkitRelativePath,size:t.size,type:t.type})),vl=e=>({dropEffect:e.dropEffect,effectAllowed:e.effectAllowed,types:e.types,files:bl(e.files)}),Sl=e=>({...re(e),dataTransfer:e.dataTransfer?vl(e.dataTransfer):null}),Tl=e=>({...D(e),data:e.data}),xl=e=>({...D(e),relatedTarget:e.relatedTarget?{tagName:e.relatedTarget.tagName}:null}),Ol=e=>({...D(e),key:e.key,code:e.code,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey}),re=e=>({...D(e),clientX:e.clientX,clientY:e.clientY,button:e.button}),Ul=e=>({...re(e),height:e.height,isPrimary:e.isPrimary,pointerId:e.pointerId,pointerType:e.pointerType,pressure:e.pressure,tangentialPressure:e.tangentialPressure,tiltX:e.tiltX,tiltY:e.tiltY,twist:e.twist,width:e.width}),ue=e=>[...e].map(t=>({clientX:t.clientX,clientY:t.clientY,force:t.force,identifier:t.identifier,pageX:t.pageX,pageY:t.pageY,radiusX:t.radiusX,radiusY:t.radiusY,rotationAngle:t.rotationAngle,screenX:t.screenX,screenY:t.screenY})),wl=e=>({...D(e),altKey:e.altKey,changedTouches:ue(e.changedTouches),ctrlKey:e.ctrlKey,metaKey:e.metaKey,shiftKey:e.shiftKey,targetTouches:ue(e.targetTouches),touches:ue(e.touches)}),El=e=>({...re(e),deltaMode:e.deltaMode,deltaX:e.deltaX,deltaY:e.deltaY,deltaZ:e.deltaZ,DOM_DELTA_PIXEL:e.DOM_DELTA_PIXEL,DOM_DELTA_LINE:e.DOM_DELTA_LINE,DOM_DELTA_PAGE:e.DOM_DELTA_PAGE}),kl=e=>e instanceof InputEvent?Tl(e):e instanceof DragEvent?Sl(e):e instanceof FocusEvent?xl(e):e instanceof KeyboardEvent?Ol(e):e instanceof PointerEvent?Ul(e):e instanceof WheelEvent?El(e):e instanceof MouseEvent?re(e):typeof window<"u"&&window.TouchEvent&&e instanceof TouchEvent?wl(e):D(e),Ml=(e,t)=>{const n=[],l={};return e.forEach(a=>{if(wt(a)){const r=a.properties.value.name;l[r]=[...l[r]??[],...a.children.value]}else(!Pe(a)||a.text.value.length>0)&&n.push(a)}),{...Object.keys(l).reduce((a,r)=>({...a,[r]:()=>l[r].map(t)}),{}),default:()=>n.map(t)}},jl=e=>{const t=e.trim().toLowerCase();return t.startsWith("javascript:")||decodeURIComponent(t).startsWith("javascript:")},Il=e=>{if(e===void 0)return;const t={};for(const n in e.value){const l=e.value[n];if(typeof l=="string"&&jl(l)){t[n]="javascript:void(0);";continue}t[n]=/^on[A-Z]/.test(n)&&me(l)?(...a)=>{var r;const o=(r=e.value)==null?void 0:r[n];if(me(o))return o(...a.map(s=>s instanceof Event?kl(s):s))}:l}return t},be=(e,t)=>{if("type"in e){if(wt(e))return console.error("Found an orphan remote slot",e),null;const n={...Il(e.properties),ref:e.ref},l=e.children.value;return Rn(e.type)?Z(e.type,n,l.map(a=>be(a,t))):Z(t.get(e.type),{...n,key:e.id},Ml(l,a=>be(a,t)))}return yl(e)?G(e.text.value):Pe(e)&&e.text.value.length>0?e.text.value:null};function Ye(e){const t=e.tree.root,n=Et(e,t);return{id:t.id,kind:dt,children:n.ref,update(){n.load(t,!0)},release:kt([e.tree.updatable(t,n.load),()=>n.ref.value.forEach(l=>l.release())])}}function $l(e,t){const n=U(t.text);return{id:t.id,kind:ke,text:n,update(){const l=e.tree.get(t);l&&(n.value=l.text)},release:e.tree.updatable(t,l=>{n.value=l.text})}}function Rl(e,t){const n=U(null),l=U(t.properties),a=Et(e,t),r=s=>{l.value=s.properties,a.load(s)},o=kt([e.tree.updatable(t,r),e.tree.invokable(t,Al(t,n)),()=>a.ref.value.forEach(s=>s.release())]);return{id:t.id,kind:K,type:t.type,ref:n,properties:l,children:a.ref,update:()=>{const s=e.tree.get(t);s&&r(s)},release:o}}function Cl(e,t){const n=U(t.text);return{id:t.id,kind:Me,text:n,update(){const l=e.tree.get(t);l&&(n.value=l.text)},release:e.tree.updatable(t,l=>{n.value=l.text})}}function We(e,t){switch(t.kind){case ke:return $l(e,t);case K:return Rl(e,t);case Me:return Cl(e,t)}}function Et(e,t){const n=tt(t.children.map(a=>We(e,a)));return{ref:n,load:(a,r=!1)=>{n.value.forEach(o=>{a.children.some(s=>s.id===o.id)||o.release()}),n.value=a.children.map(o=>{const s=n.value.find(d=>d.id===o.id);return r&&s&&s.update(),s??We(e,o)})}}}function Al(e,t){return(n,l)=>{const a=t.value;if(a==null)throw new Error(`${de(e)} not mounted to host environment yet`);if(!(n in a))throw new Error(`${de(e)} doesn't support method ${n}`);const r=a[n];if(!me(r))throw new Error(`${de(e)} doesn't support method ${n}`);return r.call(a,...l)}}function de(e){const{id:t,kind:n}=e;return"type"in e?`Node [ID=${t}, KIND=${n}, TYPE=${e.type}]`:`Node [ID=${t}, KIND=${n}]`}function kt(e){return()=>e.forEach(t=>t())}const Nl=A({name:"HostedTree",props:{provider:{type:Object,required:!0},receiver:{type:Object,required:!0}},setup(e,{expose:t}){const n=tt(Ye(e.receiver));return V(()=>e.receiver,()=>{n.value.release(),n.value=Ye(e.receiver)}),t({forceUpdate:()=>n.value.update()}),Rt(n.value.release),()=>n.value.children.value.filter(l=>!Pe(l)||l.text.value.length>0).map(l=>be(l,e.provider))}}),Pl=(e={})=>{const t=new Map(Object.entries(e));return{get(n){const l=t.get(n);if(l==null)throw new Error(`Unknown component: ${n}`);return l}}};function Ze(e){const t={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...at(),...e.components};return u.jsxs(u.Fragment,{children:[u.jsx(t.h1,{id:"uiselect",children:"UiSelect"}),`
`,u.jsxs(t.p,{children:[u.jsx(t.code,{children:"UiSelect"}),` - выпадающий список для выбора одного или нескольких значений.
Компонент собирается из `,u.jsx(t.code,{children:"UiSelect"})," + ",u.jsx(t.code,{children:"UiSelectOption"})," (и при необходимости ",u.jsx(t.code,{children:"UiSelectOptionGroup"}),")."]}),`
`,u.jsx(t.h2,{id:"когда-использовать",children:"Когда использовать"}),`
`,u.jsxs(t.ul,{children:[`
`,u.jsx(t.li,{children:"Нужно выбрать одно значение из набора (статус, исполнитель, категория)."}),`
`,u.jsxs(t.li,{children:["Нужен множественный выбор (",u.jsx(t.code,{children:"multiple"}),") с отображением количества выбранных элементов."]}),`
`,u.jsxs(t.li,{children:["Нужен поиск по опциям (",u.jsx(t.code,{children:"filterable"}),"), включая подсветку совпадений в ",u.jsx(t.code,{children:"UiSelectOption"}),"."]}),`
`]}),`
`,u.jsx(t.h2,{id:"базовое-применение",children:"Базовое применение"}),`
`,u.jsx(t.pre,{children:u.jsx(t.code,{className:"language-html",children:`<template>
    <UiSelect placeholder="Исполнитель">
        <UiSelectOption value="kyle" label="Kyle Simmons" />
        <UiSelectOption value="eduardo" label="Eduardo Henry" />
        <UiSelectOption value="philip" label="Philip Williamson" />
    </UiSelect>
</template>

<script lang="ts" setup>
import {
  UiSelect,
  UiSelectOption,
} from '@retailcrm/embed-ui-v1-components/remote'
<\/script>
`})}),`
`,u.jsx(t.h2,{id:"множественный-выбор",children:"Множественный выбор"}),`
`,u.jsxs(t.p,{children:["Для множественного режима включите ",u.jsx(t.code,{children:"multiple"}),"."]}),`
`,u.jsx(t.pre,{children:u.jsx(t.code,{className:"language-html",children:`<template>
    <UiSelect multiple clearable placeholder="Исполнители">
        <UiSelectOption value="kyle" label="Kyle Simmons" />
        <UiSelectOption value="eduardo" label="Eduardo Henry" />
        <UiSelectOption value="philip" label="Philip Williamson" />
    </UiSelect>
</template>
`})}),`
`,u.jsx(t.h2,{id:"поиск-по-опциям",children:"Поиск по опциям"}),`
`,u.jsxs(t.p,{children:["Чтобы включить поиск, передайте ",u.jsx(t.code,{children:"filterable"}),`.
В этом режиме ввод в триггере используется как строка фильтра, а опции автоматически скрываются/подсвечиваются по совпадению.`]}),`
`,u.jsx(t.pre,{children:u.jsx(t.code,{className:"language-html",children:`<template>
    <UiSelect filterable placeholder="Найти пользователя">
        <UiSelectOption value="kyle" label="Kyle Simmons" />
        <UiSelectOption value="eduardo" label="Eduardo Henry" />
        <UiSelectOption value="philip" label="Philip Williamson" />
    </UiSelect>
</template>
`})}),`
`,u.jsx(t.h2,{id:"опции-как-объекты",children:"Опции как объекты"}),`
`,u.jsxs(t.p,{children:["Если ",u.jsx(t.code,{children:"value"})," у опций - объекты, задайте ",u.jsx(t.code,{children:"equalsFn"}),", чтобы корректно сравнивать значения."]}),`
`,u.jsx(t.pre,{children:u.jsx(t.code,{className:"language-html",children:`<template>
    <UiSelect
        :value="{ id: 2, name: 'Eduardo Henry' }"
        :equals-fn="(a, b) => a?.id === b?.id"
        placeholder="Пользователь"
    >
        <UiSelectOption :value="{ id: 1, name: 'Kyle Simmons' }" label="Kyle Simmons" />
        <UiSelectOption :value="{ id: 2, name: 'Eduardo Henry' }" label="Eduardo Henry" />
    </UiSelect>
</template>
`})}),`
`,u.jsx(t.h2,{id:"группировка-опций",children:"Группировка опций"}),`
`,u.jsxs(t.p,{children:["Для групп используйте ",u.jsx(t.code,{children:"UiSelectOptionGroup"}),"."]}),`
`,u.jsx(t.pre,{children:u.jsx(t.code,{className:"language-html",children:`<template>
    <UiSelect placeholder="Сотрудник">
        <UiSelectOptionGroup label="Отдел продаж">
            <UiSelectOption value="kyle" label="Kyle Simmons" />
            <UiSelectOption value="eduardo" label="Eduardo Henry" />
        </UiSelectOptionGroup>

        <UiSelectOptionGroup label="Поддержка">
            <UiSelectOption value="philip" label="Philip Williamson" />
        </UiSelectOptionGroup>
    </UiSelect>
</template>

<script lang="ts" setup>
import {
  UiSelect,
  UiSelectOption,
  UiSelectOptionGroup,
} from '@retailcrm/embed-ui-v1-components/remote'
<\/script>
`})}),`
`,u.jsx(t.h2,{id:"важные-свойства",children:"Важные свойства"}),`
`,u.jsxs(t.ul,{children:[`
`,u.jsxs(t.li,{children:[u.jsx(t.code,{children:"placeholderOnly"})," - всегда отображает ",u.jsx(t.code,{children:"placeholder"})," в поле, вместо текста выбранных опций."]}),`
`,u.jsxs(t.li,{children:[u.jsx(t.code,{children:"textboxSize"})," - размер текстового поля триггера (",u.jsx(t.code,{children:"xs"}),", ",u.jsx(t.code,{children:"sm"}),", ",u.jsx(t.code,{children:"xl"}),")."]}),`
`,u.jsxs(t.li,{children:[u.jsx(t.code,{children:"expanded"})," - внешний флаг открытия/закрытия списка."]}),`
`,u.jsxs(t.li,{children:[u.jsx(t.code,{children:"placement"}),", ",u.jsx(t.code,{children:"targetTriggers"}),", ",u.jsx(t.code,{children:"popperTriggers"}),", ",u.jsx(t.code,{children:"popperFitTrigger"}),", ",u.jsx(t.code,{children:"popperOptions"})," - настройка поведения и позиционирования выпадающего списка."]}),`
`]}),`
`,u.jsx(t.h2,{id:"слоты",children:"Слоты"}),`
`,u.jsxs(t.ul,{children:[`
`,u.jsxs(t.li,{children:[u.jsx(t.code,{children:"default"})," - содержимое выпадающего списка (обычно ",u.jsx(t.code,{children:"UiSelectOption"})," и ",u.jsx(t.code,{children:"UiSelectOptionGroup"}),")."]}),`
`]}),`
`,u.jsx(t.h2,{id:"api",children:"API"}),`
`,u.jsx(Kt,{})]})}function Vl(e={}){const{wrapper:t}={...at(),...e.components};return t?u.jsx(t,{...e,children:u.jsx(Ze,{...e})}):Ze(e)}const _l=Pl({UiMenuItem:Je,UiMenuItemGroup:ot,UiPopperConnector:nt,UiSelectPopper:Oe,UiSelectTrigger:Ue}),Qe=gl(),Oa={title:"Components/UiSelect",component:Ot,argTypes:{id:{control:!1},value:{control:!1},expanded:{control:"boolean"},clearable:{control:"boolean"},placeholder:{control:"text"},filterable:{control:"boolean"},invalid:{control:"boolean"},placeholderOnly:{control:"boolean"},readonly:{control:"boolean"},disabled:{control:"boolean"},multiple:{control:"boolean"},ticker:{control:"boolean"},textboxSize:{options:Object.values(it)},placement:{options:Object.values(F)},popperFitTrigger:{control:"boolean"},popperClass:{control:"text"},popperOptions:{control:!1},targetTriggers:{control:!1},popperTriggers:{control:!1}},render:e=>({components:{HostedTree:Nl,UiMenuItem:Je,UiMenuItemGroup:ot,UiPopperConnector:nt,UiSelectPopper:Oe,UiSelectTrigger:Ue},setup(){const t=new Worker(new URL(""+new URL("UiSelect.remote-CdowTsFD.js",import.meta.url).href,import.meta.url),{type:"module"}),n=fn(t);return n.call.run(Qe.receive,e),V(e,l=>{n.call.setProps(l)}),{args:e,provider:_l,receiver:Qe}},template:`
      <HostedTree :provider="provider" :receiver="receiver" />
    `}),parameters:{docs:{page:Vl},layout:"centered"}},X={args:{placeholder:"test123",ticker:!1,disabled:!1,multiple:!1,filterable:!1}};X.parameters={...X.parameters,docs:{...X.parameters?.docs,source:{originalSource:`{
  args: {
    placeholder: 'test123',
    ticker: false,
    disabled: false,
    multiple: false,
    filterable: false
  }
}`,...X.parameters?.docs?.source}}};const Ua=["Sandbox"];export{X as Sandbox,Ua as __namedExportsOrder,Oa as default};
