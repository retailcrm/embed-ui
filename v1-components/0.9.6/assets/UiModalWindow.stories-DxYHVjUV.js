import{g as D,H as Q,r as k,h as X,J as R,K as ie,L as ae,M as de,N as te,S as re,U as ce,j as C,B as O,P as pe,Q as ue,i as me,O as fe,o as u,c as j,a as P,w as c,m as W,s as T,A as he,u as U,k as L,z as w,t as g,v as ve,R as xe}from"./iframe-D39tYAK0.js";import{_ as $}from"./UiButton-DA_3skNz.js";import{_ as q}from"./UiScrollBox-DIhgFHrz.js";import{_ as J}from"./UiTransition-CjGPWdxw.js";import{e as Z}from"./utils-BqzVSXwn.js";import{u as _,l as S,n as K,M as je}from"./transition-BQSkoN76.js";import{I as ye}from"./clear-BR2afO7D.js";import{j as e}from"./index-Djyvt97q.js";import{useMDXComponents as ee}from"./index-Cdf3Trmt.js";import{T as v}from"./ToReact-CufppUms.js";import"./preload-helper-PPVm8Dsz.js";import"./predicate-ClulhfEu.js";import"./composables-B4JUJzYp.js";import"./index-B44Kv34C.js";var p=(o=>(o.ALERT="alert",o.DIALOG="dialog",o.POPUP="popup",o.HINT="hint",o))(p||{}),b=(o=>(o.NORMAL="normal",o.NATIVE="native",o))(b||{});const ne=D({__name:"UiModalWindowSurface",props:{id:{type:String,default:()=>_("embed-modal-window")},opened:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},appearance:{type:String,validator:o=>Z(o).toBeOneOf(p),default:p.POPUP},fullscreen:{type:Boolean,default:!1},responsive:{type:Boolean,default:!1},disposeTimeout:{type:null,default:5e3},scrolling:{type:String,validator:o=>Object.values(b).includes(o),default:b.NORMAL}},emits:["open","close","close-cancel","shown","showing","hidden","hiding","scroll:y","scroll:y:end","update:opened","update:overlapped"],setup(o,{expose:n,emit:m}){const t=o,l=m,d=me(je,null),i=Q({attached:!1,shown:!1,hiding:!1,detachTimer:null,overlapped:!1}),A=k(null),y=X(()=>({id:t.id,isBlocker:()=>!0,isOverlapped:()=>i.overlapped,setIsOverlapped:a=>{i.overlapped!==a&&(i.overlapped=a,l("update:overlapped",a))},emitEscape:()=>{i.overlapped||I()}})),x=k("hidden"),s=k("hidden"),r=X(()=>{switch(!0){case(x.value==="shown"&&s.value==="shown"):return"shown";case(x.value==="showing"||s.value==="showing"):return"showing";case(x.value==="hiding"||s.value==="hiding"):return"hiding"}return"hidden"}),f=()=>{S.remove(y.value),i.attached=!1},G=()=>{i.detachTimer===null&&(i.detachTimer=setTimeout(()=>f(),t.disposeTimeout?Number(t.disposeTimeout):0))},z=()=>{i.detachTimer!==null&&(clearTimeout(i.detachTimer),i.detachTimer=null)},V=async()=>{i.hiding=!1,z(),!i.shown&&(S.remove(y.value),S.add(y.value),S.start(),i.attached=!0,await K(),await K(),i.hiding||(i.shown=!0,l("update:opened",!0),l("open")))},N=()=>{if(i.hiding=!0,!i.shown){i.attached&&G();return}i.shown=!1,l("update:opened",!1),l("close"),S.remove(y.value),z(),G()},I=(a=void 0)=>{a?.target?.closest(".ps__thumb-y")||(t.closable?N():l("close-cancel"))};n({open:V,close:I}),R(()=>t.id,(a,B)=>S.replace(B,y.value)),R(()=>t.opened,a=>a?V():N()),R(()=>r.value,(a,B)=>{a!==B&&(a==="shown"?l("shown"):a==="showing"?l("showing"):a==="hidden"?l("hidden"):a==="hiding"&&l("hiding"))}),ie(()=>{t.opened&&V(),l("update:overlapped",i.overlapped)}),ae(()=>t.opened?V():N()),de(N),te(()=>{N(),f()});const H=re(),le=ce(),oe=()=>{const a=t.appearance;return O(J,{name:"zoom",onBeforeEnter:()=>s.value="showing",onAfterEnter:()=>s.value="shown",onBeforeLeave:()=>s.value="hiding",onAfterLeave:()=>s.value="hidden"},()=>i.shown?O("div",{ref:A,class:{"ui-v1-modal-window":!0,"ui-v1-modal-window_alert":a===p.ALERT,"ui-v1-modal-window_dialog":a===p.DIALOG,"ui-v1-modal-window_popup":a===p.POPUP,"ui-v1-modal-window_hint":a===p.HINT,"ui-v1-popper-container":!0}},le):[])},F=a=>{a.target===a.currentTarget&&!i.overlapped&&I(a)},se=()=>i.attached?O(fe,{to:d?.container??document.body},O(J,{name:"fade-2",onBeforeEnter:()=>x.value="showing",onAfterEnter:()=>x.value="shown",onBeforeLeave:()=>x.value="hiding",onAfterLeave:()=>x.value="hidden"},{default:()=>pe(O("div",{id:t.id,"aria-hidden":r.value!=="shown"?"true":"false","aria-modal":"true",...H,class:[H.class,{"ui-v1-modal":!0,"ui-v1-modal_overlapped":i.overlapped}],onClick:F},O(q,{class:{"ui-v1-modal-window-container":!0,"ui-v1-modal-window-container_fullscreen":t.fullscreen,"ui-v1-modal-window-container_responsive":t.responsive&&t.appearance===p.POPUP},showOnMac:!0,native:t.scrolling===b.NATIVE,onClick:F,onPsYReachEnd:a=>l("scroll:y:end",a),onScroll:a=>{i.overlapped||l("scroll:y",a,A.value?.getBoundingClientRect()?.toJSON()??null)}},{default:oe})),[[ue,i.shown]])})):void 0;return(a,B)=>(u(),C(se))}});ne.__docgenInfo={exportName:"default",displayName:"UiModalWindowSurface",description:"",tags:{},expose:[{name:"open"},{name:"close"}],props:[{name:"id",description:"Атрибут id корневого элемента модального окна. Должен быть уникальным на странице",type:{name:"string"},defaultValue:{func:!0,value:"() => uid('embed-modal-window')"}},{name:"opened",description:"Открыто/закрыто",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"closable",description:"Закрываемое. Возможность закрыть модальное окно",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"appearance",description:"Внешний вид",type:{name:"APPEARANCE"},defaultValue:{func:!1,value:"APPEARANCE.POPUP"}},{name:"fullscreen",description:"Вывод на весь экран",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"responsive",description:`Резиновое. Размещено в центре страницы. Отступы от любой границы составляет 32 px.
Резиновое окно не может выходить за пределы области просмотра, так как контент прокручивается внутри него.
Шапка и футер у данного типа окна закреплены и не прокручиваются.
При достижении ширины 1 680 px окно перестает увеличиваться и фиксируется по центру браузера.`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disposeTimeout",description:"Время, через которое плавающий элемент удаляется со страницы, если был скрыт",type:{name:"number|string|null"},defaultValue:{func:!1,value:"5000"}},{name:"scrolling",description:"Тип прокрутки",type:{name:"SCROLLING"},defaultValue:{func:!1,value:"SCROLLING.NORMAL"}}],events:[{name:"open",description:"Срабатывает при открытии"},{name:"close",description:"Срабатывает при закрытии"},{name:"close-cancel",description:"Срабатывает при отмене закрытия"},{name:"shown",description:"Срабатывает при завершении раскрытия"},{name:"showing",description:"Срабатывает в начале раскрытия"},{name:"hidden",description:"Срабатывает при завершении сокрытия"},{name:"hiding",description:"Срабатывает в начале сокрытия"},{name:"scroll:y",description:"Срабатывает при прокрутке контейнера по оси y *"},{name:"scroll:y:end",description:"Срабатывает при прокрутке контейнера в самый конец по оси y *"},{name:"update:opened",description:"Обновление флага видимости"},{name:"update:overlapped",description:"Срабатывает при изменении состояния перекрытия"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/modal-window/UiModalWindowSurface.vue"]};const ge={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function we(o,n){return u(),j("svg",ge,[...n[0]||(n[0]=[P("path",{fill:"currentColor","fill-rule":"evenodd",d:"M22.905 19.63 12.813 2.37a.76.76 0 0 0-.65-.37h-.3a.76.76 0 0 0-.65.37L1.1 19.63a.79.79 0 0 0 0 .76l.14.23a.73.73 0 0 0 .65.38h20.225a.73.73 0 0 0 .65-.38l.14-.23a.79.79 0 0 0 0-.76m-9.902-3.13a.5.5 0 0 1-.5.5h-1a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h1a.5.5 0 0 1 .5.5zm-.47-3.5a.25.25 0 0 0 .25-.22l.4-3.22a.5.5 0 0 0-.5-.56h-1.36a.5.5 0 0 0-.5.56l.4 3.22a.25.25 0 0 0 .25.22z","clip-rule":"evenodd"},null,-1)])])}const be={render:we},Te={key:0,class:"ui-v1-modal-window__icon"},Oe=["id"],Ue={key:1,class:"ui-v1-modal-window__content"},Le={key:2,class:"ui-v1-modal-window__footer"},Se={key:0,class:"ui-v1-modal-window__footer-text"},M=D({__name:"UiModalWindow",props:{id:{type:String,default:()=>_("embed-modal-window")},opened:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},appearance:{type:String,validator:o=>Z(o).toBeOneOf(p),default:p.POPUP},disposeTimeout:{type:null,default:5e3},fullscreen:{type:Boolean,default:!1},responsive:{type:Boolean,default:!1},scrolling:{type:String,validator:o=>Object.values(b).includes(o),default:b.NORMAL}},emits:["update:opened","toggle","open","opened","close","closed","close-cancel","container:scroll:y","container:scroll:y:end","content:scroll:y:end"],setup(o,{expose:n,emit:m}){const t=o,l=m,d=Q({opened:t.opened,scrolled:!1,overlapped:!1}),i=s=>{d.opened!==s&&(d.opened=s,l("update:opened",s),l("toggle",s),l(s?"open":"close"))},A=()=>i(!0),y=()=>{t.closable?i(!1):l("close-cancel")},x=(s,r)=>{l("container:scroll:y",s,r),r&&(d.scrolled=r.top<=0)};return n({open:A,close:y}),R(()=>t.opened,i),(s,r)=>(u(),C(ne,W({id:o.id,opened:d.opened,closable:o.closable,appearance:o.appearance,fullscreen:o.fullscreen,responsive:o.responsive,"dispose-timeout":o.disposeTimeout,scrolling:o.scrolling},{...s.$attrs,...s.$slots.title?{"aria-labelledby":o.id+"-title"}:{}},{"onUpdate:opened":i,"onUpdate:overlapped":r[2]||(r[2]=f=>d.overlapped=f),onCloseCancel:r[3]||(r[3]=f=>s.$emit("close-cancel")),onShown:r[4]||(r[4]=f=>s.$emit("opened")),onHidden:r[5]||(r[5]=f=>s.$emit("closed")),"onScroll:y":x,"onScroll:y:end":r[6]||(r[6]=f=>s.$emit("container:scroll:y:end",f))}),{default:c(()=>[P("div",{class:he({"ui-v1-modal-window__header":!0,"ui-v1-modal-window__header_pinned":s.$slots.title&&d.scrolled&&o.appearance===U(p).POPUP&&!o.responsive})},[o.appearance===U(p).ALERT?(u(),j("div",Te,[L(s.$slots,"icon",{overlapped:d.overlapped},()=>[w(U(be))])])):T("",!0),s.$slots.title?(u(),j("div",{key:1,id:o.id+"-title",class:"ui-v1-modal-window__title"},[L(s.$slots,"title",{overlapped:d.overlapped})],8,Oe)):T("",!0),o.appearance!==U(p).ALERT?(u(),j("div",{key:2,"aria-label":"Esc",class:"ui-v1-modal-window__close",role:"button",onClick:r[0]||(r[0]=f=>d.overlapped?null:y())},[w(U(ye),{title:"Esc",style:{width:"100%"}})])):T("",!0)],2),o.responsive?(u(),C(q,{key:0,class:"ui-v1-modal-window__content","show-on-mac":"",onPsYReachEnd:r[1]||(r[1]=f=>s.$emit("content:scroll:y:end"))},{default:c(()=>[L(s.$slots,"default",{overlapped:d.overlapped})]),_:3})):(u(),j("div",Ue,[L(s.$slots,"default",{overlapped:d.overlapped})])),s.$slots.footer?(u(),j("div",Le,[o.appearance===U(p).HINT?(u(),j("div",Se,[L(s.$slots,"footer",{overlapped:d.overlapped})])):L(s.$slots,"footer",{key:1,overlapped:d.overlapped})])):T("",!0)]),_:3},16,["id","opened","closable","appearance","fullscreen","responsive","dispose-timeout","scrolling"]))}});M.__docgenInfo={exportName:"default",displayName:"UiModalWindow",description:"",tags:{},expose:[{name:"open"},{name:"close"}],props:[{name:"id",description:"Атрибут id корневого элемента модального окна. Должен быть уникальным на странице",type:{name:"string"},defaultValue:{func:!0,value:"() => uid('embed-modal-window')"}},{name:"opened",description:"Открыто/закрыто",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"closable",description:"Закрываемое. Возможность закрыть модальное окно",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"appearance",description:"Внешний вид: алерт, диалог, popup, hint",type:{name:"APPEARANCE"},defaultValue:{func:!1,value:"APPEARANCE.POPUP"}},{name:"disposeTimeout",description:"Время, через которое плавающий элемент удаляется со страницы, если был скрыт",type:{name:"number|string|null"},defaultValue:{func:!1,value:"5000"}},{name:"fullscreen",description:"Вывод на весь экран",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"responsive",description:`Резиновое. Размещено в центре страницы. Отступы от любой границы составляет 32 px.
Резиновое не может выходить за пределы браузера, так как контент прокручивается внутри него.
Шапка и футер у данного типа окна закреплены и не прокручиваются.
При достижении ширины 1 680 px окно перестает увеличиваться и фиксируется по центру браузера.`,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"scrolling",description:"Тип прокрутки",type:{name:"SCROLLING"},defaultValue:{func:!1,value:"SCROLLING.NORMAL"}}],events:[{name:"close-cancel",description:"Срабатывает при отмене закрытия"},{name:"opened",description:"Срабатывает при завершении открытия"},{name:"closed",description:"Срабатывает при завершении закрытия"},{name:"container:scroll:y:end",description:"Срабатывает при прокрутке контейнера в самый конец по y-оси"},{name:"content:scroll:y:end",description:"Срабатывает при прокрутке контента в самый конец по y-оси"},{name:"update:opened",description:"Срабатывает при открытии/закрытии"},{name:"toggle",description:"Срабатывает при открытии/закрытии"},{name:"open",description:"Срабатывает при открытии"},{name:"close",description:"Срабатывает при закрытии"},{name:"container:scroll:y",description:"Срабатывает при прокрутке контейнера"}],slots:[{name:"icon",scoped:!0,description:"Иконка слева от заголовка",bindings:[{name:"overlapped",title:"binding"}]},{name:"title",scoped:!0,description:"Заголовок",bindings:[{name:"overlapped",title:"binding"}]},{name:"default",scoped:!0,description:"Основная разметка",bindings:[{name:"overlapped",title:"binding"}]},{name:"footer",scoped:!0,description:"Разметка подвала",bindings:[{name:"overlapped",title:"binding"}]}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/modal-window/UiModalWindow.vue"]};const $e={key:0,style:{"margin-top":"16px"}},h=D({__name:"UiModalWindow.example",props:{buttonTitle:{type:String,default:""},hasNesting:{type:Boolean,default:!1},nestedOnSameLevel:{type:Boolean,default:!1}},setup(o){const n=k(!1),m=k(!1);return(t,l)=>(u(),j("div",null,[w($,{appearance:"secondary",onClick:l[0]||(l[0]=d=>n.value=!0)},{default:c(()=>[g(ve(o.buttonTitle),1)]),_:1}),w(M,W({opened:n.value,"onUpdate:opened":l[5]||(l[5]=d=>n.value=d)},t.$attrs),{title:c(()=>[...l[8]||(l[8]=[g(" Заголовок ",-1)])]),footer:c(()=>[w($,{appearance:"secondary",onClick:l[4]||(l[4]=d=>n.value=!1)},{default:c(()=>[...l[14]||(l[14]=[g(" Закрыть ",-1)])]),_:1})]),default:c(()=>[P("div",{style:xe(t.$attrs.appearance=="popup"?{height:"1500px"}:{})},[l[13]||(l[13]=P("div",null,"Некоторый контент",-1)),o.hasNesting?(u(),j("div",$e,[w($,{appearance:"secondary",onClick:l[1]||(l[1]=d=>m.value=!0)},{default:c(()=>[...l[9]||(l[9]=[g(" Открыть вложенное окно ",-1)])]),_:1}),o.nestedOnSameLevel?T("",!0):(u(),C(M,{key:0,opened:m.value,"onUpdate:opened":l[3]||(l[3]=d=>m.value=d),responsive:""},{title:c(()=>[...l[10]||(l[10]=[g(" Вложенное окно ",-1)])]),footer:c(()=>[w($,{appearance:"secondary",onClick:l[2]||(l[2]=d=>m.value=!1)},{default:c(()=>[...l[11]||(l[11]=[g(" Закрыть ",-1)])]),_:1})]),default:c(()=>[l[12]||(l[12]=P("p",null,"Некоторый контент",-1))]),_:1},8,["opened"]))])):T("",!0)],4)]),_:1},16,["opened"]),o.nestedOnSameLevel?(u(),C(M,W({key:0,opened:m.value,"onUpdate:opened":l[7]||(l[7]=d=>m.value=d)},t.$attrs,{responsive:""}),{title:c(()=>[...l[15]||(l[15]=[g(" Вложенное на одном уровне окно ",-1)])]),footer:c(()=>[w($,{appearance:"secondary",onClick:l[6]||(l[6]=d=>m.value=!1)},{default:c(()=>[...l[16]||(l[16]=[g(" Закрыть ",-1)])]),_:1})]),default:c(()=>[l[17]||(l[17]=P("p",null,"Некоторый контент",-1))]),_:1},16,["opened"])):T("",!0)]))}});h.__docgenInfo={exportName:"default",displayName:"UiModalWindow.example",description:"",tags:{},props:[{name:"buttonTitle",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hasNesting",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"nestedOnSameLevel",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/stories/UiModalWindow.example.vue"]};function Y(o){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",ul:"ul",...ee(),...o.components};return e.jsxs(e.Fragment,{children:[e.jsx(n.h1,{id:"uimodalwindow",children:"UiModalWindow"}),`
`,e.jsx(n.p,{children:"Модальное окно, используемое для создания диалоговых окон и отдельных слоев интерфейса."}),`
`,e.jsx(n.h2,{id:"общие-правила",children:"Общие правила"}),`
`,e.jsxs(n.p,{children:["Модальное окно всегда появляется на полупрозрачной подложке ",e.jsx(n.code,{children:"#2D336C (40%)"}),`. Клик по ней приводит к закрытию окна.
Страница под окном не должна прокручиваться.`]}),`
`,e.jsx(n.p,{children:"В системе используется следующие типы модальных окон:"}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:[`
`,e.jsxs(n.p,{children:["Фиксированное окно с шириной ",e.jsx(n.code,{children:"880px"}),`. Если модальное окно умещается в размеры области просмотра, оно всегда отображается по центру.
Размер окна по ширине никогда не меняется и не адаптируется при изменении разрешения, и всегда составляет `,e.jsx(n.code,{children:"880px"}),`.
Высота окна может меняться в зависимости от содержания.`]}),`
`,e.jsxs(n.p,{children:["Если высота окна больше высоты области просмотра, то от верхней границы браузера оставляется отступ ",e.jsx(n.code,{children:"56px"}),`, а нижняя
граница уходит за пределы нижней границы браузера. Во время прокрутки, за `,e.jsx(n.code,{children:"24px"}),` до достижения верхней границы браузера,
шапка модального окна закрепляется.`]}),`
`,e.jsxs(n.p,{children:[`Футер при прокрутке закреплен в нижней части экрана. Когда контент окна полностью прокручен, футер приподнимается на
`,e.jsx(n.code,{children:"56px"}),";"]}),`
`]}),`
`,e.jsxs(n.li,{children:[`
`,e.jsxs(n.p,{children:["Фиксированное окно с шириной ",e.jsx(n.code,{children:"720px"})," и высотой ",e.jsx(n.code,{children:"466px"}),`. Отображается при клике на объект-триггер и закрываются кликом
на крестик в углу или за пределами всплывающей подсказки. Крестик в углу по умолчанию должен быть белого цвета с
прозрачностью `,e.jsx(n.code,{children:"60%"}),", а при наведении без прозрачности."]}),`
`,e.jsxs(n.p,{children:["Компонент всегда появляется на полупрозрачной подложке ",e.jsx(n.code,{children:"#2D336C (40%)"}),`. Клик по ней приводит к закрытию окна.
Страница под окном не должна прокручиваться.`]}),`
`,e.jsxs(n.p,{children:["Текст внизу может быть не более ",e.jsx(n.code,{children:"2"})," строчек;"]}),`
`]}),`
`,e.jsxs(n.li,{children:[`
`,e.jsxs(n.p,{children:["Фиксированное с шириной ",e.jsx(n.code,{children:"464px"}),", для диалоговых окон;"]}),`
`]}),`
`,e.jsxs(n.li,{children:[`
`,e.jsxs(n.p,{children:["Резиновое с шириной ",e.jsx(n.code,{children:"100%"}),`, для полноценных слоев сложного интерфейса. Размещается в центре страницы. Отступы от любой
границы составляет `,e.jsx(n.code,{children:"32px"}),`. Не может выходить за пределы браузера, так как контент прокручивается внутри него.
Шапка и футер у данного типа окна закреплены и не прокручиваются. При достижении ширины `,e.jsx(n.code,{children:"1680px"}),` окно перестает
увеличиваться и фиксируется по центру браузера.`]}),`
`]}),`
`]}),`
`,e.jsxs(n.p,{children:["Если нужно модальное окно меньшего размера, то лучше использовать компонент ",e.jsx(n.code,{children:"UiModalSidebar"}),"."]}),`
`,e.jsx(n.h2,{id:"api",children:"API"}),`
`,e.jsx(n.h3,{id:"виды-модальных-окон",children:"Виды модальных окон"}),`
`,e.jsx(n.p,{children:"Предусмотрены следующие виды модальных окон:"}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"alert"}),` — отображает простое сообщение пользователю. Часто используется для уведомлений, предупреждений или запроса подтверждения,
вывода информации. Окно с фиксированной шириной — `,e.jsx(n.code,{children:"464px"}),";"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"dialog"})," — отображает диалоговое окно на веб-странице. В отличие ",e.jsx(n.code,{children:"alert"}),` предоставляет более гибкие функциональные возможности
для взаимодействия с пользователем, включая поддержку кнопок и формы для ввода данных. Окно с фиксированной шириной — `,e.jsx(n.code,{children:"464px"}),";"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"popup"}),` — базовый вид модального окна, используемый для уведомления, предоставления формы ввода данных и других важных взаимодействий.
Окно с фиксированной шириной — `,e.jsx(n.code,{children:"880px"}),";"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"hint"}),` — отображает подсказочное окно, используемое когда одного текстового описания во всплывающей подсказке не достаточно
и нужно наглядно показать, где находится объект. Не является фокусируемым и не может содержать интерактивные элементы для взаимодействия.
Окно с фиксированными шириной — `,e.jsx(n.code,{children:"720px"})," и высотой — ",e.jsx(n.code,{children:"466px"}),"."]}),`
`]}),`
`,e.jsxs(n.p,{children:[`Каждый вид модальных окон блокирует дальнейшее взаимодействие со страницей, пока пользователь не закроет его.
Чтобы использовать одну из визуализаций, необходимо передать в свойство `,e.jsx(n.code,{children:"appearance"})," одно из вышеперечисленных значений."]}),`
`,e.jsxs("div",{style:{display:"flex",columnGap:"16px",paddingLeft:"16px"},children:[e.jsx(v,{is:h,buttonTitle:"Alert",appearance:"alert"}),e.jsx(v,{is:h,buttonTitle:"Dialog",appearance:"dialog"}),e.jsx(v,{is:h,buttonTitle:"Popup",appearance:"popup"}),e.jsx(v,{is:h,buttonTitle:"Hint",appearance:"hint"})]}),`
`,e.jsx(n.h3,{id:"управление-состоянием",children:"Управление состоянием"}),`
`,e.jsx(n.p,{children:"Модальное окно может быть закрыто:"}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:["нажатием на иконку закрытия, либо клавишей ",e.jsx(n.code,{children:"Esc"}),";"]}),`
`,e.jsxs(n.li,{children:["смена состояния флага ",e.jsx(n.code,{children:"opened"}),";"]}),`
`,e.jsx(n.li,{children:"кликом вне области панели."}),`
`]}),`
`,e.jsxs(n.p,{children:["При необходимости можно запретить закрывать модальное окно вышеперечисленными способами, если выключить флаг ",e.jsx(n.code,{children:"closable"}),`. Тогда
окно будет оставаться в открытом состоянии до тех пор, пока не станет вновь закрываемой.`]}),`
`,e.jsxs(n.p,{children:["Для настройки времени удаления плавающего элемента со страницы, если он был скрыт, используется свойство ",e.jsx(n.code,{children:"disposeTimeout"}),`.
Значение задаётся в миллисекундах, поддерживаются как числа, так и строковые форматы.`]}),`
`,e.jsxs(n.p,{children:["Для модальных окон вида ",e.jsx(n.code,{children:"popup"}),` предусмотрено поведения перехода из модального окна в полноэкранный режим посредством включения
флага `,e.jsx(n.code,{children:"fullscreen"}),"."]}),`
`,e.jsx(v,{is:h,buttonTitle:"Модальное окно в полноэкранном режиме",appearance:"popup",style:{paddingLeft:"16px"},fullscreen:!0}),`
`,e.jsx(n.h3,{id:"прокрутка",children:"Прокрутка"}),`
`,e.jsxs(n.p,{children:[`В базовом поведении при прокрутке шапка фиксируется сверху и не прокручивается. Но если для модального окна включён флаг
`,e.jsx(n.code,{children:"responsive"}),', то окно становится "резиновым", то есть:']}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:["размещается в центре страницы и отступы от любой границы составляет ",e.jsx(n.code,{children:"32px"}),";"]}),`
`,e.jsx(n.li,{children:"не может выходить за пределы браузера, так как контент прокручивается внутри него;"}),`
`,e.jsx(n.li,{children:"шапка и футер закреплены и не прокручиваются;"}),`
`,e.jsxs(n.li,{children:["при достижении ширины ",e.jsx(n.code,{children:"1680px"})," окно перестает увеличиваться и фиксируется по центру браузера."]}),`
`]}),`
`,e.jsxs("div",{style:{display:"flex",columnGap:"16px",paddingLeft:"16px"},children:[e.jsx(v,{is:h,buttonTitle:"Стандартное модальное окно",appearance:"popup"}),e.jsx(v,{is:h,buttonTitle:"Резиновое модальное окно",appearance:"popup",responsive:!0})]}),`
`,e.jsxs(n.p,{children:[`По-умолчанию, содержимое тела модального окна помещается в контейнер, содержащий полосу прокрутки. Данное состояние определяется
свойством `,e.jsx(n.code,{children:"scrolling"})," со значением ",e.jsx(n.code,{children:"normal"}),`. Вид полосы прокрутки можно поменять на стандартный, предоставляемый браузерами.
Для этого необходимо установить значение `,e.jsx(n.code,{children:"native"}),"."]}),`
`,e.jsxs(n.p,{children:["Чтобы отключить прокрутку в модальных окнах, необходимо отключить флаг ",e.jsx(n.code,{children:"responsive"}),"."]}),`
`,e.jsx(n.h3,{id:"вложенность",children:"Вложенность"}),`
`,e.jsxs(n.p,{children:[`Допускается вкладывать компоненты модальных окон друг в друга, при этом вложенные будут "телепортироваться" в конец
контейнера для модальных элементов (по-умолчанию это `,e.jsx(n.code,{children:"document.body"}),")."]}),`
`,e.jsx(v,{is:h,buttonTitle:"Одно окно вложено в другое",style:{paddingLeft:"16px"},hasNesting:!0}),`
`,e.jsx(n.p,{children:"Допустимо расположение окон на одном уровне, но кнопка открытия второго окна находится внутри первого."}),`
`,e.jsx(v,{is:h,buttonTitle:"Вложенное на одном уровне окно",style:{paddingLeft:"16px"},hasNesting:!0,nestedOnSameLevel:!0}),`
`,e.jsxs(n.p,{children:["В качестве дочерних модальных окон можно использовать и другие модальные элементы на основе ",e.jsx(n.code,{children:"UiModal"}),`, например,
`,e.jsx(n.code,{children:"UiModalWindow"}),"."]}),`
`,e.jsx(n.h2,{id:"слоты",children:"Слоты"}),`
`,e.jsxs(n.p,{children:["Для настройки заголовка в шапке модального окна имеется слот ",e.jsx(n.code,{children:"title"}),". Для модального окна вида ",e.jsx(n.code,{children:"alert"}),` предусмотрен
дополнительный слот `,e.jsx(n.code,{children:"icon"}),", позволяющий передать иное изображение слева от заголовка."]}),`
`,e.jsxs(n.p,{children:["Слот ",e.jsx(n.code,{children:"default"})," позволяет передать содержимое тела модального окна."]}),`
`,e.jsxs(n.p,{children:["Футер модального окна отображается, если определён слот ",e.jsx(n.code,{children:"footer"}),`. Чаще всего в нём содержатся кнопки сохранения, отмены и третичные
кнопки копирования и удаления.`]}),`
`,e.jsx(v,{is:h,buttonTitle:"Модальное окно с заданными слотами",appearance:"alert",style:{paddingLeft:"16px"}}),`
`,e.jsx(n.h2,{id:"события",children:"События"}),`
`,e.jsx(n.p,{children:"Компонент генерирует события:"}),`
`,e.jsxs(n.ul,{children:[`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"update:opened"})," — при открытии/закрытии модального окна; содержит актуальное значение флага ",e.jsx(n.code,{children:"opened"}),";"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"toggle"})," — при открытии/закрытии модального окна; содержит актуальное значение флага ",e.jsx(n.code,{children:"opened"}),";"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"open"})," — при открытии модального окна;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"opened"})," — при завершении открытия модального окна;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"close"})," — при закрытии модального окна;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"closed"})," — при завершении закрытия модального окна;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"close-cancel"})," — при попытке закрыть модальное окно, если флаг ",e.jsx(n.code,{children:"closable"})," выключен;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"container:scroll:y"})," — при прокрутке контейнера модального окна;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"container:scroll:y:end"})," — при прокрутке контейнера в самый конец по y-оси;"]}),`
`,e.jsxs(n.li,{children:[e.jsx(n.code,{children:"content:scroll:y:end"})," — при прокрутке контента в самый конец по y-оси."]}),`
`]})]})}function Pe(o={}){const{wrapper:n}={...ee(),...o.components};return n?e.jsx(n,{...o,children:e.jsx(Y,{...o})}):Y(o)}const He={title:"Components/UiModalWindow",component:M,args:{appearance:p.POPUP,scrolling:b.NORMAL},argTypes:{id:{control:!1},opened:{control:!1},appearance:{control:"select",options:Object.values(p)},scrolling:{control:"select",options:Object.values(b)},title:{control:!1},default:{control:!1},footer:{control:!1}},render:o=>({components:{UiButton:$,UiModalWindow:M},setup(){return{args:o,open:k(!1)}},template:`
      <UiButton appearance="secondary" @click="open = true">
        Открыть
      </UiButton>

      <UiModalWindow v-bind="args" v-model:opened="open">
        <template #title>
          Заголовок окна
        </template>

        <div style="height: 1500px;">
          Контент высотой 1500px
        </div>

        <template #footer>
          <UiButton appearance="secondary" @click="open = false">
            Закрыть
          </UiButton>
        </template>
      </UiModalWindow>
    `}),decorators:[()=>({template:'<div style="height: 500px"><story /></div>'})],parameters:{docs:{page:Pe},layout:"centered"}},E={};E.parameters={...E.parameters,docs:{...E.parameters?.docs,source:{originalSource:"{}",...E.parameters?.docs?.source}}};const Fe=["Sandbox"];export{E as Sandbox,Fe as __namedExportsOrder,He as default};
