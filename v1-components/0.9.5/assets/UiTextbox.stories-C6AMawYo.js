import{o as m,c as f,a as M,d as ce,e as g,R as ye,E as ge,w as be,h as B,j as I,u as x,v as R,m as de,S as we,U as Y,k as _,t as ee,b as Se,r as re,f as Ne,q as ke,g as ne}from"./vue.esm-bundler-BIIqx1uz.js";import{u as Ee}from"./composables-D1G2sIbg.js";import{d as $e}from"./index-D3b9CQ0f.js";import{I as Ie}from"./plugin-DBA4RfQx.js";import{o as oe}from"./utils-BqzVSXwn.js";import{j as n}from"./jsx-runtime-N83kn9-W.js";import{useMDXComponents as ue}from"./index-g1djAheZ.js";import{T as S}from"./ToReact-CPHMrQr2.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Dj9yGJcI.js";import"./preview-esf_-D9Q.js";const Te={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Le(l,e){return m(),f("svg",Te,e[0]||(e[0]=[M("path",{fill:"currentColor",d:"M8.138 11.06A.52.52 0 0 1 8 10.705c0-.133.05-.261.138-.355l.187-.2A.44.44 0 0 1 8.66 10h6.68a.44.44 0 0 1 .335.15l.187.2a.52.52 0 0 1 .138.355c0 .133-.05.26-.138.355l-3.536 3.788A.43.43 0 0 1 12 15a.43.43 0 0 1-.326-.152z"},null,-1)]))}const xe={render:Le},Be={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ve(l,e){return m(),f("svg",Be,e[0]||(e[0]=[M("path",{fill:"currentColor","fill-rule":"evenodd",d:"m16.333 15.072 3.556 3.56a.445.445 0 0 1-.018.613l-.622.623a.445.445 0 0 1-.631 0l-3.556-3.56a2.3 2.3 0 0 1-.266-.32l-.667-.89a6.22 6.22 0 0 1-3.885 1.362A6.232 6.232 0 0 1 7.531 4.613a6.22 6.22 0 0 1 7.572 1.753 6.235 6.235 0 0 1-.04 7.78l.888.614q.209.134.382.312M5.8 10.23c0 2.458 1.99 4.45 4.445 4.45 1.178 0 2.309-.469 3.142-1.303a4.453 4.453 0 0 0-3.142-7.597 4.447 4.447 0 0 0-4.445 4.45","clip-rule":"evenodd"},null,-1)]))}const me={render:Ve},Ce={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function Ae(l,e){return m(),f("svg",Ce,e[0]||(e[0]=[M("path",{fill:"currentColor","fill-rule":"evenodd",d:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0m11 2.045c0-.122-.05-.24-.14-.324L13.148 12l1.712-1.721a.445.445 0 0 0 0-.648l-.49-.49a.444.444 0 0 0-.649 0L12 10.851 10.279 9.14a.444.444 0 0 0-.648 0l-.49.49a.444.444 0 0 0 0 .649L10.851 12 9.14 13.721a.444.444 0 0 0 0 .648l.49.49a.444.444 0 0 0 .649 0L12 13.149l1.721 1.712a.444.444 0 0 0 .648 0l.49-.49a.45.45 0 0 0 .141-.325","clip-rule":"evenodd"},null,-1)]))}const Re={render:Ae};var j=(l=>(l.EMAIL="email",l.PASSWORD="password",l.PHONE="tel",l.SEARCH="search",l.TEXT="text",l.URL="url",l))(j||{}),o=(l=>(l.DECIMAL="decimal",l.EMAIL="email",l.NONE="none",l.NUMERIC="numeric",l.SEARCH="search",l.TEL="tel",l.TEXT="text",l.URL="url",l))(o||{}),w=(l=>(l.XS="xs",l.SM="sm",l.MD="md",l.LG="lg",l.XL="xl",l))(w||{});const U=l=>{const[,e]=String(l).replace(",",".").split(".");return e?e.length:0},Ue=(l,e)=>e!==void 0&&U(l)>e,Me=l=>l.replace(/\D+/g,""),De=(l,e,d)=>{let s=l.replace(/,/g,".");return s=s.replace(/-/g,""),e&&l.trim().startsWith("-")&&(s="-"+s),s=s.replace(/[^0-9.-]/g,""),s=Xe(s),s.indexOf("-")>0&&(s=s.replace(/-/g,"")),s=ze(s),s=qe(s,d),s};function ze(l){const e=l.match(/^(-)?(\d+)(?:\.(\d*))?$/);if(e){const d=e[1]??"";let s=e[2];const h=e[3]??"";return s=s.replace(/^0+(?=\d)/,""),s===""&&(s="0"),s==="0"&&h===""&&!/\.$/.test(l)?`${d}${s}`:h!==""||/\.$/.test(l)?`${d}${s}.${h}`:`${d}${s}`}return l}function Xe(l){const e=l.indexOf(".");return e!==-1?l.slice(0,e+1)+l.slice(e+1).replace(/\./g,""):l}function qe(l,e){if(e!=="*"){const d=l.match(/^(-)?(\d+)(?:\.(\d*))?$/);if(d){const s=d[1]??"",h=d[2],c=(d[3]??"").slice(0,e);return c.length>0&&e>0?`${s}${h}.${c}`:`${s}${h}`}}return l}const Ke="Clear",Oe={clear:Ke},He="Borrar",Fe={clear:He},Pe="Очистить",We={clear:Pe},le=$e({messages:{"en-GB":Oe,"es-ES":Fe,"ru-RU":We}}),Ge=["id"],Ze={key:0,class:"ui-v1-textbox__prefix"},Je=["id","type","value","max","min","step","aria-invalid","autocomplete","inputmode","maxlength","placeholder","readonly","required","disabled"],Qe=["id","value","aria-invalid","autocomplete","inputmode","maxlength","placeholder","rows","cols","readonly","required","disabled"],Ye={key:4,class:"ui-v1-textbox__eraser"},_e={key:6,class:"ui-v1-textbox__suffix"},C=ce({__name:"UiTextbox",props:{id:{type:null,validator:l=>l===void 0||typeof l=="string"&&l.length>0&&/^[A-Za-z]/.test(l),default:void 0},type:{type:String,validator:l=>Object.values(j).includes(l),default:j.TEXT},value:{type:null,default:null},max:{type:null,validator:l=>!isNaN(Number(l)),default:1/0},min:{type:null,validator:l=>!isNaN(Number(l)),default:-1/0},step:{type:null,validator:l=>l==="any"||!isNaN(Number(l)),default:1},autocomplete:{type:String,validator:l=>["on","off"].includes(l),default:"off"},inputmode:{type:String,default:void 0},maxlength:{type:[Number,String],default:void 0},decimals:{type:[Number,String],validator:l=>l==="*"||!isNaN(Number(l)),default:"*"},size:{type:String,default:w.SM},placeholder:{type:String,default:""},prefix:{type:String,default:""},suffix:{type:String,default:""},active:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autoselect:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},invalid:{type:Boolean,default:!1},multiline:{type:Boolean,default:!1},rows:{type:[Number,String],validator:l=>!isNaN(Number(l)),default:2},cols:{type:[Number,String],validator:l=>!isNaN(Number(l)),default:20},outlined:{type:Boolean,default:!0}},emits:["input","keydown","change","paste","focus","blur","update:focused","update:value","clear"],setup(l,{expose:e,emit:d}){const s=["Backspace","Delete","Enter","ArrowLeft","ArrowRight"],h=["Alt","CapsLock","Control","Shift","Meta"],c=l,r=d,T=we(),he=g(()=>{var i;return le.init(((i=Se(Ie,null))==null?void 0:i.locale)??le.fallback)}),A=g(()=>{if(c.decimals==="*"||c.decimals===void 0)return"*";const i=Number(c.decimals);return isNaN(i)||i<0?"*":i}),N=g(()=>{const i=c.inputmode,t=c.type;if(t===j.TEXT||t===j.PASSWORD)return i;const a=(u,v)=>{if(u!==void 0&&(u===o.TEXT||u===v))return u};switch(t){case j.EMAIL:return i===void 0?o.EMAIL:a(i,o.EMAIL);case j.PHONE:return i===void 0?o.TEL:a(i,o.TEL);case j.SEARCH:return i===void 0?o.SEARCH:a(i,o.SEARCH);case j.URL:return i===void 0?o.URL:a(i,o.URL);default:return i}}),y=g(()=>N.value===o.DECIMAL),pe=g(()=>y.value&&A.value===0),D=g(()=>Number(c.min)<0),L=g(()=>{if(c.value===null)return"";const i=A.value,t=String(c.value);if(y.value&&i!=="*"&&Ue(t,i)){const a=i===0?new RegExp("^-?\\d+"):new RegExp("^-?\\d+(?:\\.\\d{"+i+"})?");return(t.match(a)??[])[0]??""}return t}),fe=i=>{const t=i.key==="ArrowUp";if(!t&&i.key!=="ArrowDown")return;const a=Number(c.max),u=Number(c.min),v=c.step==="any"?1:Number(c.step),E=Number(c.value),$=t?E+v:E-v;(t&&$<=a||!t&&$>=u)&&r("update:value",$.toFixed(Math.max(U(v),U(E))))},z=()=>{r("update:value",""),r("clear")},X=i=>y.value?De(i,D.value,A.value):N.value===o.NUMERIC?Me(i):i,q=i=>{const t=i.target,a=X(t.value);a!==t.value&&(t.value=a),a!==c.value&&r("update:value",a),r("input",i)},K=async i=>{var a;i.preventDefault();const t=((a=i.clipboardData)==null?void 0:a.getData("text"))??"";t&&(await Q(t),r("paste",i))},O=i=>{const a=i.target.value;a!==c.value&&r("update:value",a),r("change",i)},H=i=>{if(h.includes(i.key))return;const t=i.target,a=!isNaN(+i.key),u=i.key==="E"||i.key==="e",v=s.includes(i.key),E=i.key===".",$=i.key==="-",ve=(t.selectionStart??0)===0;if(y.value){if(!a&&!(E&&!t.value.includes(".")&&!pe.value)&&!($&&!t.value.startsWith("-")&&D.value&&ve)&&!v&&!i.ctrlKey&&!i.metaKey||u)return i.preventDefault(),fe(i)}else if(N.value===o.NUMERIC&&!a&&!v&&!i.ctrlKey&&!i.metaKey){i.preventDefault();return}r("keydown",i),i.key==="Escape"&&t.blur()},je=Ee(),p=ye(null),F=()=>{var i;return((i=p.value)==null?void 0:i.selectionStart)??0},P=()=>{var i;return((i=p.value)==null?void 0:i.selectionEnd)??0},W=(i,t)=>{var a;return(a=p.value)==null?void 0:a.setSelectionRange(i,t)},G=()=>{var i;return(i=p.value)==null?void 0:i.select()},k=()=>{var i;return(i=p.value)==null?void 0:i.focus()},Z=async i=>{r("focus",i),r("update:focused",!0),p.value&&(c.autoselect||!c.outlined)&&!c.disabled&&(p.value.scrollLeft=p.value.scrollWidth,await Y(),G())},J=i=>{r("blur",i),r("update:focused",!1)},Q=async i=>{if(!i)return;const t=F(),a=P(),u=t+i.length,v=X(L.value.substring(0,t)+i+L.value.substring(a));r("update:value",v),await Y(),W(u,u),k()};return e({getSelectionStart:F,getSelectionEnd:P,setSelectionRange:W,focus:k,blur:()=>{var i;return(i=p.value)==null?void 0:i.blur()},select:G,insert:Q,clear:z}),ge(()=>{c.autofocus&&!c.disabled&&k()}),be(()=>c.value,i=>{if(!y.value||typeof i!="string"||!i.includes(","))return;const t=i.replace(/,/g,".");/^-?\d*(?:\.\d*)?$/.test(t)&&r("update:value",t)},{immediate:!0}),(i,t)=>(m(),f("span",de({id:(l.id??x(T))+"-group",ref_key:"root",ref:je,class:{"ui-v1-textbox":!0,"ui-v1-textbox_active":l.active,"ui-v1-textbox_invalid":l.invalid,"ui-v1-textbox_outlined":l.outlined,"ui-v1-textbox_xs":l.size===x(w).XS,"ui-v1-textbox_md":l.size===x(w).MD,"ui-v1-textbox_lg":l.size===x(w).LG,"ui-v1-textbox_xl":l.size===x(w).XL}},i.$attrs),[l.prefix||"prefix"in i.$slots?(m(),f("span",Ze,[B(i.$slots,"default",{},()=>[_(ee(l.prefix),1)])])):I("",!0),"leading-icon"in i.$slots?(m(),f("span",{key:1,class:"ui-v1-textbox__icon ui-v1-textbox__icon_leading",onClick:k},[B(i.$slots,"leading-icon")])):I("",!0),l.multiline?(m(),f("textarea",{key:3,id:l.id??x(T),ref_key:"textbox",ref:p,value:L.value,"aria-invalid":l.invalid?"true":"false",autocomplete:l.autocomplete,inputmode:N.value,maxlength:l.maxlength,placeholder:l.placeholder,rows:l.rows,cols:l.cols,readonly:l.readonly,required:l.required,disabled:l.disabled,onInput:q,onPaste:K,onKeydown:H,onChange:O,onFocus:Z,onBlur:J},null,40,Qe)):(m(),f("input",{key:2,id:l.id??x(T),ref_key:"textbox",ref:p,type:l.type,value:L.value,max:y.value?l.max:void 0,min:y.value?l.min:void 0,step:y.value?l.step:void 0,"aria-invalid":l.invalid?"true":"false",autocomplete:l.autocomplete,inputmode:N.value,maxlength:l.maxlength,placeholder:l.placeholder,readonly:l.readonly,required:l.required,disabled:l.disabled,onInput:q,onPaste:K,onKeydown:H,onChange:O,onFocus:Z,onBlur:J},null,40,Je)),l.clearable&&String(l.value)?(m(),f("span",Ye,[R(x(Re),{"aria-controls":l.id??x(T),"aria-label":he.value.t("clear"),role:"button",onClick:z},null,8,["aria-controls","aria-label"])])):I("",!0),"trailing-icon"in i.$slots?(m(),f("span",{key:5,class:"ui-v1-textbox__icon ui-v1-textbox__icon_trailing",onClick:k},[B(i.$slots,"trailing-icon")])):I("",!0),l.suffix||"suffix"in i.$slots?(m(),f("span",_e,[B(i.$slots,"default",{},()=>[_(ee(l.suffix),1)])])):I("",!0)],16,Ge))}});C.__docgenInfo={exportName:"default",displayName:"UiTextbox",description:"",tags:{},expose:[{name:"getSelectionStart",description:"Индекс первого выбранного символа"},{name:"getSelectionEnd",description:"Индекс последнего выбранного символа"},{name:"setSelectionRange",description:"Выбор значения внутри поля ввода с start символа по end символ"},{name:"focus",description:"Установка фокуса на поле ввода"},{name:"blur",description:"Сброс фокуса с поля ввода"},{name:"select",description:"Выбор значения внутри поля ввода"},{name:"insert",description:"Вставка значения"},{name:"clear",description:"Очистка поле ввода"}],props:[{name:"id",description:"Уникальный идентификатор поля",type:{name:"string | undefined"},defaultValue:{func:!1,value:"undefined"}},{name:"type",description:"Тип поля",type:{name:"TYPE | `${TYPE}`"},defaultValue:{func:!1,value:"TYPE.TEXT"}},{name:"value",description:"Значение поля",type:{name:"string | number | null"},defaultValue:{func:!1,value:"null"}},{name:"max",description:"Нативный атрибут input",type:{name:"number | `${number}`"},defaultValue:{func:!1,value:"Infinity"}},{name:"min",description:"Нативный атрибут input",type:{name:"number | `${number}`"},defaultValue:{func:!1,value:"-Infinity"}},{name:"step",description:"Нативный атрибут input",type:{name:"number | `${number}` | 'any'"},defaultValue:{func:!1,value:"1"}},{name:"autocomplete",description:"Нативный атрибут input|textarea",values:["on","off"],type:{name:"string"},defaultValue:{func:!1,value:"'off'"}},{name:"inputmode",description:"Нативный атрибут input|textarea",type:{name:"INPUTMODE | `${INPUTMODE}`"},defaultValue:{func:!1,value:"undefined"}},{name:"maxlength",description:"Нативный атрибут input|textarea",type:{name:"number|string"},defaultValue:{func:!1,value:"undefined"}},{name:"decimals",description:"Максимальное количество знаков после запятой",type:{name:"number | `${number}` | '*'"},defaultValue:{func:!1,value:"'*'"}},{name:"size",description:"Размер поля ввода",type:{name:"SIZE | `${SIZE}`"},defaultValue:{func:!1,value:"SIZE.SM"}},{name:"placeholder",description:"Нативный атрибут input|textarea",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"prefix",description:"Текст в начале поля ввода",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"suffix",description:"Текст в конце поля ввода",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"active",description:"Флаг активности, для индикации, что поле задействовано",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"autofocus",description:"Автоматический focus на поле ввода сразу после монтирования",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"autoselect",description:"Автоматический выбор значения в поле ввода при попадании в фокус",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"clearable",description:"Включает кнопку очистки значения, кнопка видна только в случае, если значение непустое",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"readonly",description:"Является ли поле полем только для чтения",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"required",description:"Является ли поле обязательным",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"disabled",description:"Отключено ли поле",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"invalid",description:"Содержит ли поле некорректное значение",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"multiline",description:"Превращает поле в многострочное",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"rows",description:"Нативный атрибут HTMLTextAreaElement",type:{name:"number|string"},defaultValue:{func:!1,value:"2"}},{name:"cols",description:"Нативный атрибут HTMLTextAreaElement",type:{name:"number|string"},defaultValue:{func:!1,value:"20"}},{name:"outlined",description:"Стиль поля – с рамкой или без",type:{name:"boolean"},defaultValue:{func:!1,value:"true"}}],events:[{name:"input",type:{names:["Event"]},description:"Стандартное для input/textarea элементов"},{name:"keydown",type:{names:["KeyboardEvent"]},description:"Стандартное для input/textarea элементов"},{name:"change",type:{names:["Event"]},description:"Стандартное для input/textarea элементов"},{name:"paste",type:{names:["ClipboardEvent"]},description:"Стандартное для input/textarea элементов"},{name:"focus",type:{names:["FocusEvent"]},description:"Стандартное для input/textarea элементов"},{name:"blur",type:{names:["Event"]},description:"Стандартное для input/textarea элементов"},{name:"update:focused",type:{names:["boolean"]},description:"Изменения флага – в фокусе/не в фокусе, можно использовать с v-model"},{name:"update:value",type:{names:["union"],elements:[{name:"string"},{name:"number"}]},description:"Изменения значения поля, можно использовать с v-model"},{name:"clear",description:"Появляется после нажатия на кнопку очистки"}],slots:[{name:"default"},{name:"leading-icon"},{name:"trailing-icon"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/textbox/UiTextbox.vue"]};const b=ce({__name:"UiTextbox.example",props:{id:{},type:{},value:{default:""},max:{},min:{},step:{},required:{type:Boolean},autocomplete:{},inputmode:{},maxlength:{},decimals:{},size:{},placeholder:{},prefix:{},suffix:{},active:{type:Boolean},autofocus:{type:Boolean},autoselect:{type:Boolean},clearable:{type:Boolean},readonly:{type:Boolean},disabled:{type:Boolean},invalid:{type:Boolean},multiline:{type:Boolean},rows:{},cols:{},outlined:{type:Boolean,default:!0},withLeadingIcon:{type:Boolean,default:!1},withTrailingIcon:{type:Boolean,default:!1}},setup(l){const e=l,d=re(e.value);return(s,h)=>(m(),Ne(C,de({value:d.value,"onUpdate:value":h[0]||(h[0]=c=>d.value=c)},x(oe)(e,["value","withLeadingIcon","withTrailingIcon"])),ke({_:2},[s.withLeadingIcon?{name:"leading-icon",fn:ne(()=>[R(x(me),{"aria-hidden":"true"})]),key:"0"}:void 0,s.withTrailingIcon?{name:"trailing-icon",fn:ne(()=>[R(x(xe),{"aria-hidden":"true"})]),key:"1"}:void 0]),1040,["value"]))}});b.__docgenInfo={exportName:"default",displayName:"UiTextbox.example",description:"",tags:{},props:[{name:"value",defaultValue:{func:!1,value:"''"}},{name:"outlined",defaultValue:{func:!1,value:"true"}},{name:"withLeadingIcon",defaultValue:{func:!1,value:"false"}},{name:"withTrailingIcon",defaultValue:{func:!1,value:"false"}}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/stories/UiTextbox.example.vue"]};function ie(l){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...ue(),...l.components};return n.jsxs(n.Fragment,{children:[n.jsx(e.h1,{id:"uitextbox",children:"UiTextbox"}),`
`,n.jsx(e.p,{children:`Стандартное поле ввода для текстовых и числовых значений в формах.
Подходит для полей поиска, логина, телефона/email, URL, а также для сумм и количественных значений.`}),`
`,n.jsx(e.p,{children:"Пример:"}),`
`,n.jsx("span",{className:"d-inline-block mb-3",children:n.jsx(S,{is:b,placeholder:"Введите текст"})}),`
`,n.jsx(e.h3,{id:"числовой-ввод-inputmode-numericdecimal",children:"Числовой ввод (inputmode: numeric/decimal)"}),`
`,n.jsxs(e.p,{children:[n.jsx(e.code,{children:"inputmode"})," подсказывает браузеру и ОС, какую раскладку клавиатуры показать, и включает в компоненте ряд ограничений для числового ввода."]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Что показывает клавиатура:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"numeric"})," — цифровая клавиатура без десятичного разделителя (на мобильных). Подходит для целых чисел, количеств, кодов."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"decimal"})," — цифровая клавиатура с десятичным разделителем (на мобильных). Подходит для сумм и дробных значений."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["Это только подсказка для браузера: сама по себе не валидирует значение. За ограничения отвечают компонент и свойства ",n.jsx(e.code,{children:"min"}),", ",n.jsx(e.code,{children:"max"}),", ",n.jsx(e.code,{children:"step"}),", ",n.jsx(e.code,{children:"decimals"}),"."]}),`
`,n.jsxs(e.li,{children:["Поведение компонента:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"numeric"})," — это режим ограничения символов:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsx(e.li,{children:"Разрешены только цифры 0–9, клавиши редактирования (Backspace/Delete/стрелки), сочетания с Ctrl/Cmd."}),`
`,n.jsxs(e.li,{children:["Запрещены минус ",n.jsx(e.code,{children:"-"}),", десятичный разделитель и экспонента ",n.jsx(e.code,{children:"e/E"}),"."]}),`
`,n.jsx(e.li,{children:"Вставка: все нецифровые символы отбрасываются (оставляются только 0–9)."}),`
`,n.jsxs(e.li,{children:["Стрелки ",n.jsx(e.code,{children:"ArrowUp/Down"})," не изменяют значение программно; компонент не применяет числовую семантику."]}),`
`,n.jsxs(e.li,{children:["Свойства ",n.jsx(e.code,{children:"min/max/step/decimals"})," игнорируются и НЕ навешиваются на ",n.jsx(e.code,{children:"<input>"}),"."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"decimal"})," — полноценный числовой ввод с дробями:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Разрешены цифры 0–9, один десятичный разделитель ",n.jsx(e.code,{children:"."}),"; экспонента ",n.jsx(e.code,{children:"e/E"})," блокируется."]}),`
`,n.jsxs(e.li,{children:["Минус ",n.jsx(e.code,{children:"-"})," допустим только в начале и только если ",n.jsx(e.code,{children:"min < 0"}),"."]}),`
`,n.jsxs(e.li,{children:["Вставка: запятая ",n.jsx(e.code,{children:","})," конвертируется в точку ",n.jsx(e.code,{children:"."}),"; лишние точки/символы отбрасываются."]}),`
`,n.jsxs(e.li,{children:["Ведущие нули в целой части нормализуются: ",n.jsx(e.code,{children:"0000"})," → ",n.jsx(e.code,{children:"0"}),", ",n.jsx(e.code,{children:"001"})," → ",n.jsx(e.code,{children:"1"}),", ",n.jsx(e.code,{children:"034.132"})," → ",n.jsx(e.code,{children:"34.132"}),", ",n.jsx(e.code,{children:"-01"})," → ",n.jsx(e.code,{children:"-1"}),". Ноль перед точкой сохраняется только для дробей: ",n.jsx(e.code,{children:"0.1"}),", ",n.jsx(e.code,{children:"-0.32"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"decimals"})," ограничивает число знаков после запятой; лишние знаки обрезаются. Значение ",n.jsx(e.code,{children:"'*'"})," означает «без ограничений»."]}),`
`,n.jsxs(e.li,{children:["Стрелки ",n.jsx(e.code,{children:"ArrowUp/Down"})," изменяют значение на ",n.jsx(e.code,{children:"step"})," с учётом ",n.jsx(e.code,{children:"min/max"}),"; число знаков после запятой сохраняется разумно."]}),`
`,n.jsxs(e.li,{children:["Нативные атрибуты ",n.jsx(e.code,{children:"max/min/step"})," навешиваются на ",n.jsx(e.code,{children:"<input>"})," только в этом режиме."]}),`
`]}),`
`]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:["Особенности и оговорки:",`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Десятичный разделитель — точка (",n.jsx(e.code,{children:"."}),"). Вставленная запятая ",n.jsx(e.code,{children:","})," автоматически преобразуется в точку в режиме ",n.jsx(e.code,{children:"decimal"}),"."]}),`
`,n.jsxs(e.li,{children:["Отрицательные числа: явный ввод ",n.jsx(e.code,{children:"-"})," доступен только в ",n.jsx(e.code,{children:"decimal"})," и только в начале, если ",n.jsx(e.code,{children:"min < 0"}),". В ",n.jsx(e.code,{children:"numeric"})," минус запрещён."]}),`
`,n.jsx(e.li,{children:"На desktop визуальная раскладка клавиатуры обычно не меняется: работает именно ограничение ввода внутри компонента."}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h4,{id:"автоподбор-и-согласование-inputmode-с-type",children:"Автоподбор и согласование inputmode с type"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[`
`,n.jsxs(e.p,{children:["Если ",n.jsx(e.code,{children:"inputmode"})," не указан, он автоматически подбирается из ",n.jsx(e.code,{children:"type"}),":"]}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:'type="email"'})," → ",n.jsx(e.code,{children:'inputmode="email"'})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:'type="tel"'})," (phone) → ",n.jsx(e.code,{children:'inputmode="tel"'})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:'type="search"'})," → ",n.jsx(e.code,{children:'inputmode="search"'})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:'type="url"'})," → ",n.jsx(e.code,{children:'inputmode="url"'})]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:'type="text"'})," и ",n.jsx(e.code,{children:'type="password"'})," — без автоподстановки; ",n.jsx(e.code,{children:"inputmode"})," остаётся как есть (можно использовать любые значения, включая ",n.jsx(e.code,{children:"numeric"}),"/",n.jsx(e.code,{children:"decimal"}),")."]}),`
`]}),`
`]}),`
`,n.jsxs(e.li,{children:[`
`,n.jsx(e.p,{children:"Разрешённые сочетания и устранение противоречий:"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:["Для ",n.jsx(e.code,{children:'type="email" | "tel" | "search" | "url"'})," допустимы только ",n.jsx(e.code,{children:"inputmode"})," из набора: ",n.jsx(e.code,{children:"undefined"}),", ",n.jsx(e.code,{children:'"text"'}),", профильное значение (",n.jsx(e.code,{children:'"email"/"tel"/"search"/"url"'})," соответственно)."]}),`
`,n.jsxs(e.li,{children:["Если указано противоречивое значение (например, ",n.jsx(e.code,{children:'type="email"'})," и ",n.jsx(e.code,{children:'inputmode="numeric"'}),"), компонент сбрасывает ",n.jsx(e.code,{children:"inputmode"})," в ",n.jsx(e.code,{children:"undefined"})," (атрибут не навешивается)."]}),`
`,n.jsxs(e.li,{children:["Для ",n.jsx(e.code,{children:'type="text"'})," и ",n.jsx(e.code,{children:'type="password"'})," ограничения не применяются — можно явно указывать ",n.jsx(e.code,{children:"numeric"})," или ",n.jsx(e.code,{children:"decimal"})," для активации соответствующей логики ввода."]}),`
`]}),`
`]}),`
`]}),`
`,n.jsx(e.h3,{id:"сочетание-с-uipopper",children:"Сочетание с UiPopper"}),`
`,n.jsxs(e.p,{children:["Данный компонент может служить в качестве цели для ",n.jsx(e.code,{children:"UiPopper"})," без использования ",n.jsx(e.code,{children:"UiPopperTarget"}),"."]}),`
`,n.jsx(e.h2,{id:"api",children:"API"}),`
`,n.jsx(e.h3,{id:"свойства",children:"Свойства"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"id"})," – Уникальный идентификатор поля. Тип: ",n.jsx(e.code,{children:"string | undefined"}),". По умолчанию: ",n.jsx(e.code,{children:"undefined"}),". Примечание: должен начинаться с латинской буквы (валидатор)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"type"})," – Тип поля. Тип: ",n.jsx(e.code,{children:"'email' | 'password' | 'tel' | 'search' | 'text' | 'url'"}),". По умолчанию: ",n.jsx(e.code,{children:"'text'"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"value"})," – Значение поля. Тип: ",n.jsx(e.code,{children:"string | number | null"}),". По умолчанию: ",n.jsx(e.code,{children:"null"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"max"})," – Нативный атрибут input (максимум для числового ввода). Тип: ",n.jsx(e.code,{children:"number | ${'number'}"}),". По умолчанию: ",n.jsx(e.code,{children:"Infinity"}),". Примечание: должен преобразовываться к числу (валидатор)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"min"})," – Нативный атрибут input (минимум для числового ввода). Тип: ",n.jsx(e.code,{children:"number | ${number}"}),". По умолчанию: ",n.jsx(e.code,{children:"-Infinity"}),". Примечание: должен преобразовываться к числу (валидатор)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"step"})," – Нативный атрибут input (шаг для числового ввода). Тип: ",n.jsx(e.code,{children:"number | ${number} | 'any'"}),". По умолчанию: ",n.jsx(e.code,{children:"1"}),". Примечание: либо ",n.jsx(e.code,{children:"'any'"}),", либо число (валидатор)."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"autocomplete"})," – Нативный атрибут input|textarea. Тип: ",n.jsx(e.code,{children:"'on' | 'off'"}),". По умолчанию: ",n.jsx(e.code,{children:"'off'"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"inputmode"})," – Нативный атрибут input|textarea. Тип: ",n.jsx(e.code,{children:"'decimal' | 'email' | 'none' | 'numeric' | 'search' | 'tel' | 'text' | 'url' | undefined"}),". По умолчанию: ",n.jsx(e.code,{children:"undefined"}),". См. раздел «Числовой ввод (inputmode: numeric/decimal)» выше."]}),`
`,n.jsxs(e.li,{children:["Примечание к числовым режимам: при ",n.jsx(e.code,{children:'inputmode="numeric"'})," свойства ",n.jsx(e.code,{children:"min"}),", ",n.jsx(e.code,{children:"max"}),", ",n.jsx(e.code,{children:"step"}),", ",n.jsx(e.code,{children:"decimals"})," игнорируются и НЕ применяются к ",n.jsx(e.code,{children:"<input>"}),"; при ",n.jsx(e.code,{children:'inputmode="decimal"'})," — применяются и участвуют в логике ввода."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"maxlength"})," – Нативный атрибут input|textarea (макс. длина). Тип: ",n.jsx(e.code,{children:"number | string | undefined"}),". По умолчанию: ",n.jsx(e.code,{children:"undefined"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"decimals"})," – Максимальное количество знаков после запятой (для числового ввода). Тип: ",n.jsx(e.code,{children:"number | "}),"$","number",n.jsx(e.code,{children:" | '*'"}),". По умолчанию: ",n.jsx(e.code,{children:"'*'"}),". Примечание: ",n.jsx(e.code,{children:"'*'"})," — без ограничений, ",n.jsx(e.code,{children:"0"})," — только целые."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"size"})," – Размер поля ввода. Тип: ",n.jsx(e.code,{children:"'xs' | 'sm' | 'md' | 'lg' | 'xl'"}),". По умолчанию: ",n.jsx(e.code,{children:"'sm'"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"placeholder"})," – Нативный атрибут input|textarea (плейсхолдер). Тип: ",n.jsx(e.code,{children:"string"}),". По умолчанию: ",n.jsx(e.code,{children:"''"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"prefix"})," – Текст в начале поля ввода. Тип: ",n.jsx(e.code,{children:"string"}),". По умолчанию: ",n.jsx(e.code,{children:"''"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"suffix"})," – Текст в конце поля ввода. Тип: ",n.jsx(e.code,{children:"string"}),". По умолчанию: ",n.jsx(e.code,{children:"''"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"active"})," – Флаг активности, для индикации, что поле задействовано. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"autofocus"})," – Автоматический focus на поле ввода сразу после монтирования. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"autoselect"})," – Автоматический выбор значения в поле ввода при попадании в фокус. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"clearable"})," – Включает кнопку очистки значения (видна, если значение непустое). Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"readonly"})," – Является ли поле полем только для чтения. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"required"})," – Является ли поле обязательным. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"disabled"})," – Отключено ли поле. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"invalid"})," – Содержит ли поле некорректное значение. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"multiline"})," – Превращает поле в многострочное. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"false"}),"."]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"outlined"})," – Стиль поля – с рамкой или без. Тип: ",n.jsx(e.code,{children:"boolean"}),". По умолчанию: ",n.jsx(e.code,{children:"true"}),"."]}),`
`]}),`
`,n.jsx(e.h3,{id:"события",children:"События"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"input"})," – стандартное для input/textarea элементов"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"change"})," – стандартное для input/textarea элементов"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"keydown"})," – стандартное для input/textarea элементов"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"focus"})," – стандартное для input/textarea элементов"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"blur"})," – стандартное для input/textarea элементов"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"update:focused"})," – изменения флага – в фокусе/не в фокусе, можно использовать с v-model"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"update:value"})," – изменение значения поля, можно использовать с v-model"]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"clear"})," - появляется после нажатия на кнопку очистки"]}),`
`]}),`
`,n.jsx(e.h3,{id:"слоты",children:"Слоты"}),`
`,n.jsxs(e.ul,{children:[`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"prefix"})," – задает текст в начале поля ввода:",n.jsx("br",{}),`
`,n.jsx("span",{className:"d-inline-block my-3",children:n.jsx(S,{is:b,tag:"span",prefix:"https://"})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"suffix"})," – задает текст в конце поля ввода:",n.jsx("br",{}),`
`,n.jsx("span",{className:"d-inline-block my-3",children:n.jsx(S,{is:b,tag:"span",suffix:"₽"})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"leading-icon"})," – для иконки в начале поля ввода:",n.jsx("br",{}),`
`,n.jsx("span",{className:"d-inline-block my-3",children:n.jsx(S,{is:b,tag:"span",withLeadingIcon:!0})}),`
`]}),`
`,n.jsxs(e.li,{children:[n.jsx(e.code,{children:"trailing-icon"})," – для иконки в конце поля ввода:",n.jsx("br",{}),`
`,n.jsx("span",{className:"d-inline-block my-3",children:n.jsx(S,{is:b,tag:"span",withTrailingIcon:!0})}),`
`]}),`
`]}),`
`,n.jsxs(e.p,{children:["Пример задействования всех слотов:",n.jsx("br",{})]}),`
`,n.jsx("span",{className:"d-inline-block mb-3",children:n.jsx(S,{is:b,tag:"span",prefix:"https://",suffix:"₽",withLeadingIcon:!0,withTrailingIcon:!0})}),`
`,n.jsx("br",{}),`
`,n.jsx("span",{className:"d-inline-block my-3",children:n.jsx(S,{is:b,tag:"span",prefix:"https://",suffix:"₽",withLeadingIcon:!0,withTrailingIcon:!0,outlined:!1})}),`
`,n.jsx(e.h2,{id:"пример",children:"Пример"}),`
`,n.jsx(e.pre,{children:n.jsx(e.code,{className:"language-html",children:`<template>
    <UiTextbox v-model:value="term">
        <template #leading-icon>
            <IconSearch aria-hidden="true" />
        </template>
    </UiTextbox>
</template>

<script lang="ts" setup>
import IconSearch from '@retailcrm/embed-ui-v1-components/assets/sprites/actions/search.svg'
import { UiTextbox } from '@retailcrm/embed-ui-v1-components/remote'

import { ref } from 'vue'

const term = ref('')
<\/script>
`})})]})}function en(l={}){const{wrapper:e}={...ue(),...l.components};return e?n.jsx(e,{...l,children:n.jsx(ie,{...l})}):ie(l)}const mn={title:"Components/UiTextbox",component:C,args:{id:void 0,type:j.TEXT,value:"",placeholder:"Enter text",size:w.SM,prefix:"https://",suffix:"₽",active:!1,invalid:!1,multiline:!1},argTypes:{id:{control:!1},type:{control:"select",options:Object.values(j)},value:{control:"text"},size:{control:"select",options:Object.values(w)},inputmode:{control:"select",options:Object.values(o)}},render:l=>({components:{IconCaret:xe,IconSearch:me,UiTextbox:C},setup(){const{value:e}=l;return{value:re(String(e)),props:g(()=>oe(l,["value"]))}},template:`
      <UiTextbox
          v-model:value="value"
          v-bind="props"
      >
          <template #leading-icon>
              <IconSearch aria-hidden="true" />
          </template>

          <template #trailing-icon>
              <IconCaret aria-hidden="true" />
          </template>
      </UiTextbox>
    `}),parameters:{docs:{page:en},layout:"centered"}},V={};var te,se,ae;V.parameters={...V.parameters,docs:{...(te=V.parameters)==null?void 0:te.docs,source:{originalSource:"{}",...(ae=(se=V.parameters)==null?void 0:se.docs)==null?void 0:ae.source}}};const hn=["Sandbox"];export{V as Sandbox,hn as __namedExportsOrder,mn as default};
