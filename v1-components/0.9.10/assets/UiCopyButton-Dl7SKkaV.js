import{c as s,o as i,a as r,g as S,r as a,h as T,D as $,j as v,m as c,v as B,w as y,t as M,u as g,F as z}from"./iframe-CzwIxcDt.js";import{S as I,_ as V}from"./UiButton-Ba4gqCS2.js";import{_ as E}from"./UiTooltip-C6tf22td.js";const O={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function N(o,e){return i(),s("svg",O,[...e[0]||(e[0]=[r("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10A10 10 0 0 0 12 2m0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16m3.12-11.51a.5.5 0 0 1 .7 0l.5.53a.5.5 0 0 1 0 .71l-5.62 5.62a.48.48 0 0 1-.7 0l-2.35-2.37a.5.5 0 0 1 0-.71l.53-.53a.48.48 0 0 1 .7 0l1.5 1.49z","clip-rule":"evenodd"},null,-1)])])}const U={render:N},Z={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function F(o,e){return i(),s("svg",Z,[...e[0]||(e[0]=[r("path",{fill:"currentColor",d:"M18 16V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M4 4h12v12H4zm16 14V6a2 2 0 0 1 2 2v10a4 4 0 0 1-4 4H8a2 2 0 0 1-2-2h12a2 2 0 0 0 2-2"},null,-1)])])}const H={render:F},j={class:"ui-v1-copy-button__tooltip"},q={class:"ui-v1-copy-button__icon"},A={class:"ui-v1-copy-button__text"},X=["value"],D=S({__name:"UiCopyButton",props:{text:{type:String,required:!0},size:{type:String,default:I.XS},tooltipOptions:{type:Object,default:()=>({})}},emits:["error"],setup(o,{emit:e}){const _=o,m=a(null),h=T(()=>m),p=a(null),l=a(!1),u=a(!1),d=a(!1);let t=null;const b=e;$(()=>{d.value=navigator.clipboard&&"writeText"in navigator.clipboard});const w=async()=>{try{d.value?(await navigator.clipboard.writeText(_.text),u.value=!0):(p.value?.focus(),p.value?.select(),u.value=document.execCommand("copy"))}catch(n){b("error",n)}},x=()=>{l.value=!0,t&&(clearTimeout(t),t=null)},C=()=>{l.value=!1,t&&(clearTimeout(t),t=null),t=setTimeout(()=>u.value=!1,200)};return(n,f)=>(i(),s("div",{ref_key:"root",ref:m,class:"ui-v1-copy-button",onMouseenter:x,onMouseleave:C,onClick:w},[v(n.$slots,"trigger",{},()=>[c(V,{size:o.size,appearance:"tertiary"},{default:y(()=>[c(g(H))]),_:1},8,["size"])]),c(E,M({visible:l.value,"onUpdate:visible":f[0]||(f[0]=k=>l.value=k),target:h.value,"target-triggers":[]},{delay:{hide:500},...o.tooltipOptions}),{default:y(()=>[r("div",j,[u.value?(i(),s(z,{key:0},[r("div",q,[c(g(U))]),r("div",A,[v(n.$slots,"hint-copied")])],64)):v(n.$slots,"hint",{key:1})])]),_:3},16,["visible","target"]),d.value?B("",!0):(i(),s("input",{key:0,ref_key:"input",ref:p,value:o.text,class:"ui-v1-copy-button__area",type:"text"},null,8,X))],544))}});D.__docgenInfo={exportName:"default",displayName:"UiCopyButton",description:"",tags:{},props:[{name:"text",description:"Текст для копирования в буфер обмена",type:{name:"string"},required:!0},{name:"size",description:"Размер кнопки",type:{name:"SIZE | `${SIZE}`"},defaultValue:{func:!1,value:"SIZE.XS"}},{name:"tooltipOptions",description:"Объект, содержащий параметры настройки Tooltip",type:{name:"TooltipOptions"},defaultValue:{func:!0,value:"() => ({})"}}],events:[{name:"error"}],slots:[{name:"trigger"},{name:"hint-copied"},{name:"hint"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/copy-button/UiCopyButton.vue"]};export{D as _};
