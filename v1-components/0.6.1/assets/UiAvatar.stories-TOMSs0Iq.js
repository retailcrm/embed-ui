import{o as a,c as n,a as v,d as U,O as W,r as T,e as g,b as ee,f as C,g as j,m as se,u as f,s as te,v as r,j as h,x as d,h as F,k as $,t as H,p as ae,F as y,B as w}from"./vue.esm-bundler-DRrU9--T.js";import{_ as ne}from"./UiImage-DB1GRbln.js";import{i as L}from"./predicate-ClulhfEu.js";import{j as t}from"./jsx-runtime-N83kn9-W.js";import{useMDXComponents as X}from"./index-g1djAheZ.js";import{T as p}from"./ToReact-CwpSuiUs.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./preview-Dh5OBlxm.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./index-Dj9yGJcI.js";const re={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"};function ie(s,e){return a(),n("svg",re,e[0]||(e[0]=[v("path",{fill:"currentColor","fill-rule":"evenodd",d:"M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10A10 10 0 0 0 12 2m0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16m3.237-10.576A2.424 2.424 0 0 0 12.812 7H11.13a2.424 2.424 0 0 0-2.424 2.424v.421c0 .233.188.421.42.421h.64a.42.42 0 0 0 .421-.42v-.422a.943.943 0 0 1 .943-.942h1.683c.521 0 .943.422.943.942v.472a.95.95 0 0 1-.64.9l-.8.261a1.58 1.58 0 0 0-1.085 1.499v.656c0 .233.188.421.42.421h.64a.42.42 0 0 0 .421-.42v-.657a.11.11 0 0 1 .101-.101l.8-.261a2.43 2.43 0 0 0 1.684-2.298zm-2.845 5.893h-.842a.42.42 0 0 0-.421.42v.842c0 .233.188.421.42.421h.843a.42.42 0 0 0 .42-.42v-.843a.42.42 0 0 0-.42-.42","clip-rule":"evenodd"},null,-1)]))}const le={render:ie},oe={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 8"};function ce(s,e){return a(),n("svg",oe,e[0]||(e[0]=[v("g",{fill:"currentColor"},[v("path",{d:"M0 0v8h2.867q1.257-.011 1.935-.604.68-.594.68-1.748 0-.675-.33-1.143a1.54 1.54 0 0 0-.892-.62q.497-.21.775-.654.279-.45.279-1.039 0-1.077-.694-1.632Q3.926 0 2.584 0zm1.52 6.676v-2.16h1.393q1.048.016 1.048 1.116 0 .488-.303.77-.3.273-.836.274zm1.124-3.324H1.52V1.335h1.064q.628 0 .916.242.294.236.294.78 0 .972-1.15.995M7.503 6.352h2.665L10.679 8h1.616l-2.76-8H8.125L5.38 8h1.616zm2.254-1.336H7.913l.917-2.994zM12.362 8V0h2.27q.972 0 1.737.478.77.473 1.2 1.352.432.873.431 1.989v.368q0 1.115-.425 1.983a3.17 3.17 0 0 1-1.191 1.346A3.26 3.26 0 0 1 14.646 8zm1.52-6.665v5.34h.734q.891 0 1.363-.631.47-.632.481-1.808v-.423q0-1.22-.466-1.846-.466-.632-1.363-.632z"})],-1)]))}const ue={render:ce},de={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 8"};function me(s,e){return a(),n("svg",de,e[0]||(e[0]=[v("g",{fill:"currentColor"},[v("path",{d:"M3.373 6.016 5.058 0h1.704L4.175 8H2.577L0 0h1.7zM8.99 8H7.46V0H8.99zM11.84 8V5.181h1.343q1.322 0 2.067-.676.75-.681.75-1.857 0-.774-.342-1.379a2.3 2.3 0 0 0-.98-.94Q14.045 0 13.208 0H10.31v8zm1.368-4.154h-1.367v-2.51h1.403q.567.01.888.373t.322.95q0 .571-.322.88-.316.307-.924.307"})],-1)]))}const pe={render:me},G=Symbol("UiAvatarSize");var o=(s=>(s.XS="xs",s.SM="sm",s.LG="lg",s))(o||{}),z=(s=>(s.NONE="",s.BUSY="busy",s.BREAK="break",s.DINNER="dinner",s.FREE="free",s))(z||{});const ve={key:1,class:"ui-v1-avatar__unresolved"},xe={key:3,class:"ui-v1-avatar__initials"},he={key:4,class:"ui-v1-avatar__labels"},fe={key:0,class:"ui-v1-avatar__label ui-v1-avatar__label_vip"},_e={key:1,class:"ui-v1-avatar__label ui-v1-avatar__label_bad"},i=U({__name:"UiAvatar",props:{src:{type:String,validator:s=>L(s)||s.length===0,default:""},name:{type:String,default:null},href:{type:String,validator:s=>L(s)||s.length===0,default:""},status:{type:String,validator:s=>Object.values(z).includes(s),default:null},vip:{type:Boolean,default:!1},bad:{type:Boolean,default:!1},size:{type:String,validator:s=>Object.values(o).includes(s),default:o.SM},optimize:{type:[Boolean,Object],default:!0}},setup(s){const e=u=>u.charAt(0).toUpperCase(),l=s,_=W(),c=T(!1),x=g(()=>!(l.name||_.default)),E=g(()=>{if(!l.name)return"";const[u,...m]=l.name.split(" ");return m.length>0?e(u)+e(m[m.length-1]):e(u)}),A=ee(G,g(()=>l.size)),V=g(()=>{if(!l.optimize)return{resize:void 0,crop:void 0};const u=typeof l.optimize=="object"?l.optimize:{};return{resize:u.resize??{[o.XS]:"48x-",[o.SM]:"72x-",[o.LG]:"104x-"}[A.value],crop:u.crop}});return(u,m)=>(a(),C(te(s.href?"a":"div"),se({ref:"root",href:s.href||void 0,class:{"ui-v1-avatar":!0,[`ui-v1-avatar_${f(A)}`]:!0,"ui-v1-avatar_bad":s.bad,"ui-v1-avatar_vip":s.vip}},u.$attrs),{default:j(()=>[s.src?(a(),C(ne,{key:0,src:s.src,resize:V.value.resize,crop:V.value.crop,class:"ui-v1-avatar__image",draggable:"false",onLoad:m[0]||(m[0]=J=>c.value=!0),onError:m[1]||(m[1]=J=>c.value=!1)},null,8,["src","resize","crop"])):!s.src&&x.value?(a(),n("div",ve,[r(f(le))])):h("",!0),s.status&&!(s.vip||s.bad)?(a(),n("span",{key:2,class:d({"ui-v1-avatar__status":!0,[`ui-v1-avatar__status_${f(A)}`]:!0,[`ui-v1-avatar__status_${s.status}`]:s.status})},null,2)):h("",!0),x.value||c.value?h("",!0):(a(),n("div",xe,[F(u.$slots,"default",{},()=>[$(H(E.value),1)])])),s.vip||s.bad?(a(),n("div",he,[s.vip?(a(),n("span",fe,[r(f(pe),{class:"ui-v1-avatar__vip"})])):h("",!0),s.bad?(a(),n("span",_e,[r(f(ue),{class:"ui-v1-avatar__bad"})])):h("",!0)])):h("",!0)]),_:3},16,["href","class"]))}});i.__docgenInfo={exportName:"default",displayName:"UiAvatar",description:"",tags:{},props:[{name:"src",description:"Путь к изображению",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"name",description:"Наименование участника",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"href",description:"Ссылка для перехода",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"status",description:"Статус пользователя",type:{name:"string"},defaultValue:{func:!1,value:"null"}},{name:"vip",description:"Пометка VIP в карточке пользователя",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"bad",description:"Пометка BAD в карточке пользователя",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"size",description:"Размер изображения",type:{name:"SIZE"},defaultValue:{func:!1,value:"SIZE.SM"}},{name:"optimize",type:{name:`boolean | {
  resize?: Dimensions;
  crop?: Dimensions;
}`},defaultValue:{func:!1,value:"true"}}],slots:[{name:"default",description:"Инициалы пользователя"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/avatar/UiAvatar.vue"]};const P=U({__name:"UiAvatarList",props:{avatars:{type:Array,default:()=>[]},size:{type:String,validator:s=>Object.values(o).includes(s),default:o.SM}},setup(s){const e=s;return ae(G,g(()=>e.size)),(l,_)=>(a(),n("div",{class:d(["ui-v1-avatar-list",`ui-v1-avatar-list_${s.size}`])},[(a(!0),n(y,null,w(s.avatars,(c,x)=>(a(),n("div",{key:x,class:"ui-v1-avatar-list__item"},[r(i,{src:c.src,name:c.name},null,8,["src","name"])]))),128)),F(l.$slots,"default")],2))}});P.__docgenInfo={exportName:"default",displayName:"UiAvatarList",description:"",tags:{},props:[{name:"avatars",description:"Список аватарок пользователей",type:{name:"Array<{ src: string; name: string }>"},defaultValue:{func:!0,value:"() => ([])"}},{name:"size",description:"Размер аватарок",type:{name:"SIZE"},defaultValue:{func:!1,value:"SIZE.SM"}}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/src/host/components/avatar/UiAvatarList.vue"]};const ge="_container_10iml_1",je={container:ge},M="https://on-desktop.com/wps/Animals___Cats_Red_Cat_with_open_mouth_044663_.jpg",K={__name:"ExampleList",props:{countAvatars:{type:Number,default:0}},setup(s){return(e,l)=>(a(),n("div",{class:d(e.$style.container)},[(a(!0),n(y,null,w(f(o),(_,c)=>(a(),C(P,{key:c,size:_},{default:j(()=>[(a(!0),n(y,null,w([{src:"",name:"ЧC"},{src:M,name:"ЧС"},{src:"",name:"XC"},{src:M,name:"ЧС"},{src:M,name:"ЧС"},{src:"",name:"+8"}].slice(0,s.countAvatars),(x,E)=>(a(),n("div",{key:E,class:"ui-v1-avatar-list__item"},[r(i,{src:x.src},{default:j(()=>[$(H(x.name),1)]),_:2},1032,["src"])]))),128))]),_:2},1032,["size"]))),128))],2))}},ye={$style:je},B=S(K,[["__cssModules",ye]]);K.__docgenInfo={exportName:"default",displayName:"ExampleList",description:"",tags:{},props:[{name:"countAvatars",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/examples/avatar/ExampleList.vue"]};const ze="_container_qk2ce_1",be={container:ze},b="https://on-desktop.com/wps/Animals___Cats_Red_Cat_with_open_mouth_044663_.jpg",Q={__name:"ExampleSize",props:{size:{type:String,default:"sm"}},setup(s){return(e,l)=>(a(),n("div",{class:d(e.$style.container)},[r(i,{src:b,size:s.size},null,8,["size"]),r(i,{size:s.size},{default:j(()=>l[0]||(l[0]=[$(" ЧС ")])),_:1},8,["size"]),s.size!=="xs"?(a(),n(y,{key:0},[r(i,{src:b,size:s.size,vip:"",bad:""},null,8,["size"]),r(i,{src:b,size:s.size,vip:""},null,8,["size"]),r(i,{src:b,size:s.size,bad:""},null,8,["size"]),r(i,{size:s.size,bad:""},{default:j(()=>l[1]||(l[1]=[$(" ЧС ")])),_:1},8,["size"])],64)):h("",!0)],2))}},ke={$style:be},N=S(Q,[["__cssModules",ke]]);Q.__docgenInfo={exportName:"default",displayName:"ExampleSize",description:"",tags:{},props:[{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'sm'"}}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/examples/avatar/ExampleSize.vue"]};const $e="_container_qk2ce_1",we={container:$e},Z={__name:"ExampleStatus",props:{size:{type:String,default:"sm"}},setup(s){return(e,l)=>(a(),n("div",{class:d(e.$style.container)},[(a(!0),n(y,null,w(f(z),(_,c)=>(a(),n("div",{key:c},[r(i,{src:"https://on-desktop.com/wps/Animals___Cats_Red_Cat_with_open_mouth_044663_.jpg",size:s.size,status:_},null,8,["size","status"])]))),128))],2))}},Se={$style:we},D=S(Z,[["__cssModules",Se]]);Z.__docgenInfo={exportName:"default",displayName:"ExampleStatus",description:"",tags:{},props:[{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'sm'"}}],sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/examples/avatar/ExampleStatus.vue"]};const Ee="_container_14nj0_1",Ae={container:Ee,"content-row":"_content-row_14nj0_10"},Y={__name:"ExampleEmptyAvatar",setup(s){return(e,l)=>(a(),n("div",{class:d(e.$style.container)},[v("div",{class:d(e.$style["content-row"])},[r(i,{size:"xs"}),r(i),r(i,{size:"lg"})],2),v("div",{class:d(e.$style["content-row"])},[r(i,{size:"xs",vip:""}),r(i,{bad:""}),r(i,{size:"lg",bad:"",vip:""})],2),v("div",{class:d(e.$style["content-row"])},[r(i,{size:"xs",status:"free"}),r(i,{status:"break"}),r(i,{size:"lg",status:"dinner"})],2)],2))}},Me={$style:Ae},Ne=S(Y,[["__cssModules",Me]]);Y.__docgenInfo={exportName:"default",displayName:"ExampleEmptyAvatar",description:"",tags:{},sourceFiles:["/home/runner/work/embed-ui/embed-ui/packages/v1-components/storybook/examples/avatar/ExampleEmptyAvatar.vue"]};function q(s){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",ul:"ul",...X(),...s.components};return t.jsxs(t.Fragment,{children:[t.jsx(e.h1,{id:"uiavatar",children:"UiAvatar"}),`
`,t.jsx(e.p,{children:"Аватар пользователя, используемый для визуальной идентификации"}),`
`,t.jsx(e.h2,{id:"описание",children:"Описание"}),`
`,t.jsx(e.p,{children:`В системе используются несколько размеров аватарок в зависимости от их места расположения. Также, аватарки могут быть с пометками VIP/BAD
в карточке клиента или списках.`}),`
`,t.jsx(e.h3,{id:"big--52px",children:"Big — 52px"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:"карточка клиента"}),`
`,t.jsx(e.li,{children:"профиль клиента в чате"}),`
`,t.jsx(e.li,{children:"карточка менеджера (в будущем)"}),`
`]}),`
`,t.jsx(p,{is:N,size:"lg"}),`
`,t.jsx(e.h3,{id:"small--36px",children:"Small — 36px"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:"список клиентов"}),`
`,t.jsx(e.li,{children:"список диалогов в чате"}),`
`,t.jsx(e.li,{children:"переписка в чате"}),`
`,t.jsx(e.li,{children:"карточка участия в программе лояльности (ПЛ)"}),`
`,t.jsx(e.li,{children:"таймлайн в участии ПЛ"}),`
`]}),`
`,t.jsx(p,{is:N}),`
`,t.jsx(e.h3,{id:"small--24px",children:"Small — 24px"}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsx(e.li,{children:"история в карточке задачи"}),`
`]}),`
`,t.jsx(e.p,{children:t.jsx(e.strong,{children:"Данный размер используется в системе без иконок vip/bad и без статуса"})}),`
`,t.jsx(p,{is:N,size:"xs"}),`
`,t.jsx(e.h3,{id:"статусы",children:"Статусы"}),`
`,t.jsxs(e.p,{children:["В зависимости от размера аватарки устанавливаются соответствующие отступы. Диаметр статусных иконок - ",t.jsx(e.strong,{children:"8px"}),`.
Для аватарок большого размера (`,t.jsx(e.code,{children:"LG"}),") отступ от краёв составляет ",t.jsx(e.strong,{children:"4px"}),"."]}),`
`,t.jsx(p,{is:D,size:"lg"}),`
`,t.jsxs(e.p,{children:["Для маленьких иконок - ",t.jsx(e.strong,{children:"2px"}),"."]}),`
`,t.jsx(p,{is:D}),`
`,t.jsx(e.h3,{id:"состояние-с-пустой-аватаркой",children:"Состояние с пустой аватаркой"}),`
`,t.jsx(e.p,{children:"При отсутствии в компоненте ссылки на изображение и инициалов используется иконка с вопросительным знаком."}),`
`,t.jsx(p,{is:Ne}),`
`,t.jsx(e.h3,{id:"комбинации",children:"Комбинации"}),`
`,t.jsxs(e.p,{children:["Использование нескольких аватарок рядом приводит к добавлению белой обводки ",t.jsx(e.strong,{children:"2px"}),". «Нахлест» составляет ",t.jsx(e.strong,{children:"4px"})," у medium (",t.jsx(e.code,{children:"SM"}),`),
`,t.jsx(e.strong,{children:"8px"})," у big (",t.jsx(e.code,{children:"LG"}),") и ",t.jsx(e.strong,{children:"2px"})," у small (",t.jsx(e.code,{children:"XS"}),")."]}),`
`,t.jsx(p,{is:B,"count-avatars":3}),`
`,t.jsx(e.p,{children:`Если пользователей больше 5, то остальные аватарки схлопываются и показываются числом. В некоторых местах системы это правило используется
ситуативно. В случае необходимости можно схлопывать аватарки после 3-х.`}),`
`,t.jsx(p,{is:B,"count-avatars":6}),`
`,t.jsx(e.h2,{id:"оптимизация",children:"Оптимизация"}),`
`,t.jsxs(e.p,{children:[`Компонент аватара может автоматически уменьшить размер загружаемого изображения за счет формирования URL специального
вида, который строится с помощью утилиты `,t.jsx(e.code,{children:"@retailcrm/image-preview"}),"."]}),`
`,t.jsxs(e.p,{children:["Оптимизация включена по-умолчанию, свойство ",t.jsx(e.code,{children:"optimize"})," компонента может принимать значения:"]}),`
`,t.jsxs(e.ul,{children:[`
`,t.jsxs(e.li,{children:[t.jsx(e.code,{children:"true"})," — использовать оптимизацию по-умолчанию"]}),`
`,t.jsxs(e.li,{children:[t.jsx(e.code,{children:"false"})," — отключить оптимизацию"]}),`
`,t.jsxs(e.li,{children:[t.jsx(e.code,{children:"{ resize?: Dimensions, crop?: Dimensions }"})," — параметры изменения размера и обрезки; ",t.jsx(e.code,{children:"Dimensions"}),` — строки вида
`,t.jsx(e.code,{children:"36x36"}),", ",t.jsx(e.code,{children:"72x-"}),", т.е. ",t.jsx(e.code,{children:"NxM"}),", где N — некоторое число (x-ось), M — некоторое число (y-ось) или прочерк (дефис)."]}),`
`]})]})}function Ce(s={}){const{wrapper:e}={...X(),...s.components};return e?t.jsx(e,{...s,children:t.jsx(q,{...s})}):q(s)}const He={title:"Components/UiAvatar",component:i,args:{src:"https://on-desktop.com/wps/Animals___Cats_Red_Cat_with_open_mouth_044663_.jpg",size:o.SM,status:z.NONE},argTypes:{status:{control:"select",options:Object.values(z)},size:{control:"select",options:Object.values(o)}},render:s=>({components:{UiAvatar:i},setup(){return{props:s}},template:`
     <UiAvatar v-bind="props" />
    `}),parameters:{docs:{page:Ce},layout:"centered"}},k={};var I,O,R;k.parameters={...k.parameters,docs:{...(I=k.parameters)==null?void 0:I.docs,source:{originalSource:"{}",...(R=(O=k.parameters)==null?void 0:O.docs)==null?void 0:R.source}}};const Xe=["Sandbox"];export{k as Sandbox,Xe as __namedExportsOrder,He as default};
